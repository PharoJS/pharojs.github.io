// generated by PharoJS *** DO NOT EDIT *** on 2018-08-27T11:26:08.399738+02:00 by noury
var global=global||this
global.Smalltalk=global.Smalltalk||(function Smalltalk(){});
Object.defineProperty(Object.prototype,"$def",{value:
 function $def(aFunc){
	Object.defineProperty(this,aFunc.name,{writable:true,value:aFunc})}})
var require
global.Smalltalk.require=require
function PjClass(){};
Smalltalk.theClassClass=PjClass;
Smalltalk.$def(function _at_(jsName){return global[jsName]});
Smalltalk.$def(function _at_ifAbsent_(key,aBlock){return $asNil$(global)._at_ifAbsent_(key,aBlock)});
Smalltalk.$def(function _at_ifAbsentPut_(aKey,aBlock){return $asNil$(global)._at_ifAbsentPut_(aKey,aBlock)});
Smalltalk.$def(function _at_ifPresent_(key,aBlock){return $asNil$(global)._at_ifPresent_(key,aBlock)});
Smalltalk.$def(function _at_put_(jsName,anObject){return global[jsName]=anObject});
Smalltalk.$def(function _emptyJavascriptObject(){return {}});
Smalltalk.$def(function _handleDNU_for_(aMessage,anObject){var selector,type,$_self_$=this;selector=(($asNil$(aMessage)._selector()).split(":"))[0];type=selector.split("_");return this._installDnuArgs_selector_js_for_else_($asNil$(aMessage)._arguments(),selector,this._makeJavascriptSelector_($asNil$(aMessage)._selector()),anObject,function(){return $_self_$._error_("Message not understood: "+$asNil$(anObject)._className()+">>#"+$asNil$(aMessage)._selector())})});
Smalltalk.$def(function _initNilInJs(){global[(this._nilTestFunctionName())]=this._nilIfUndefined();return this});
Smalltalk.$def(function _initObject(){Object.__proto__._subclass_=this._makeSubclass();this.theClassClass.prototype.__proto__=Function.prototype;return this});
Smalltalk.$def(function _initThrowInJs(){global[(this._throwFunctionName())]=this._throwFunction();return this});
Smalltalk.$def(function _initializeCore(){this.selectorCache=this._emptyJavascriptObject();this._initNilInJs();this._initThrowInJs();this._initObject();this._messageClass_(this);this._metaclassClass_(this);return this});
Smalltalk.$def(function _installDnuArgs_selector_js_for_else_(args,selector,jsSelector,anObject,aBlock){var type,func,functionName;if((type=anObject[selector])!=undefined)if(true==this._isFunction_(type)){functionName=type.name;if(""==functionName)type=2;else if(true==$asNil$($asNil$(functionName)._asCharacter())._61_($asNil$($asNil$(functionName)._asCharacter())._capitalized()))type=0;else type=2}else type=args.length;if(2>type){if(0==type)func=this._makeGetter_(selector);else func=this._makeSetter_(selector);Object.defineProperty(anObject.__proto__,jsSelector,this._propertySet_(func));return func.apply(anObject,args)}else {type=anObject;while(true==$asNil$(type)._notNil()){if(true==(true==type.hasOwnProperty(selector)&&"function"==$asNil$(type[selector])._typeof())){func=type[selector];Object.defineProperty(type,jsSelector,this._propertySet_(func));return func.apply(anObject,args)}type=$asNil$(type)._instVarNamed_("__proto__")}}return $asNil$(aBlock)._value()});
Smalltalk.$def(function _isBrowserPlatform(){return $asNil$(this._at_("navigator"))._isNotNil()});
Smalltalk.$def(function _isDomPlatform(){return $asNil$(this._at_("document"))._isNotNil()});
Smalltalk.$def(function _isFunction_(type){return "function" == typeof type});
Smalltalk.$def(function _isNodePlatform(){return $asNil$(this._at_("navigator"))._isNil()});
Smalltalk.$def(function _keys_(anObject){var result={};
for (var i in anObject) { if(typeof anObject[i]!="function" && anObject[i]!=null && anObject[i]._proxyResponse) result[i]=anObject[i]._proxyResponse()}
return {_proxyResponse:function(){return {keys:result}}}});
Smalltalk.$def(function _log_(message){console.log(message);return this});
Smalltalk.$def(function _makeDNU_(aSelector){var pjCore=this,ss=this._makeSmalltalkSelector_(aSelector);
switch (ss.split(":").length) {
case 1: return function __DNU(){
return this._doesNotUnderstand_(pjCore._selector_arguments_(ss,[]))};
case 2: return function __DNU(arg1) {
return this._doesNotUnderstand_(pjCore._selector_arguments_(ss,[arg1]))};
case 3: return function __DNU(arg1,arg2) {
return this._doesNotUnderstand_(pjCore._selector_arguments_(ss,[arg1,arg2]))};
default: return function __DNU() {
var args=new Array(arguments.length);
for(var i=0;i<arguments.length;++i) args[i]=arguments[i]
return this._doesNotUnderstand_(pjCore._selector_arguments_(ss,args))};
}});
Smalltalk.$def(function _makeGetter_(selector){return function Getter(){return this[selector]}});
Smalltalk.$def(function _makeJavascriptSelector_(aSelector){var result;if(aSelector[0]=="_")return aSelector;if(true==this.selectorCache.hasOwnProperty(aSelector))return this.selectorCache[aSelector];if((sel=aSelector)!=undefined){if(true==(true==$asNil$(sel)._isLetter()||aSelector[0]=="$"))result=(":"+sel).split(":");else {result=[undefined];(1)._to_do_($asNil$(sel)._size(),function(idx){return result.push((sel.charCodeAt(idx-1)).toString())});result.push(undefined)}result=result.join("_")}if(this.selectorCache[result]==undefined)this.selectorCache[result]=aSelector;if(this.selectorCache[aSelector]==undefined)this.selectorCache[aSelector]=result;return result});
Smalltalk.$def(function _makeSetter_(selector){return function Setter(value){return this[selector]=value}});
Smalltalk.$def(function _makeSmalltalkSelector_(aSelector){var result;if(aSelector[0]!="_")return aSelector;if(true==this.selectorCache.hasOwnProperty(aSelector))return this.selectorCache[aSelector];result=aSelector.split("_");result.shift();if(result[0][0]>"9")return result.join(":");result.pop();(0)._to_do_(result.length-1,function(index){return result[index]=String._value_(result[index])});result=result.join("");if(this.selectorCache[result]==undefined)this.selectorCache[result]=aSelector;if(this.selectorCache[aSelector]==undefined)this.selectorCache[aSelector]=result;return result});
Smalltalk.$def(function _makeSubclass(){var pjCore=this;
return function(subclassName){
var subclass = (function(){
if(this[subclassName]) 
return this[subclassName];
var newClass = (new Function("return function "+subclassName+"(){}"))();
newClass.name = subclassName;
return this[subclassName] = newClass;
})();
if(subclass.__proto__.__proto__ == this.__proto__){return;}
subclass.subclasses = [];
if(subclass == this) {
this.__proto__ = {__proto__ : pjCore.theClassClass.prototype};
}else{
subclass.__proto__ = {__proto__ : this.__proto__};
subclass.prototype.__proto__ = this.prototype;
this.subclasses.push(subclass);
}
}});
Smalltalk.$def(function _messageClass_(anObject){this.messageClass=anObject;return this});
Smalltalk.$def(function _metaclassClass_(anObject){this.metaclassClass=anObject;return this});
Smalltalk.$def(function _metaclassOf_(aClass){if(this.metaclassClass!==this) return this.metaclassClass._metaclassOf_(aClass);
var theMetaClass={ prototype: aClass.__proto__,__proto__:this.theClassClass.prototype,
_name: function(){return aClass._name()+" class"},
_theNonMetaClass: function(){return aClass},
_theMetaClass: function(){return theMetaClass},
};
return theMetaClass});
Smalltalk.$def(function _nilIfUndefined(){var pjCore=this;return function(arg){if(arg == undefined){
return pjCore.nilInJs;
}
return arg}});
Smalltalk.$def(function _nilInJs_(anObject){this.nilInJs=anObject;return this});
Smalltalk.$def(function _nilTestFunctionName(){return "$asNil$"});
Smalltalk.$def(function _propertySet_(func){return {
enumerable: false,
configurable: false,
writable: true,
value: func}});
Smalltalk.$def(function _registerDnu_(aSelector){var selector,props;selector=this._makeJavascriptSelector_(aSelector);if(Object.prototype[selector]==undefined){props=this._makeDNU_(aSelector);Object.defineProperty(Object.prototype,selector,this._propertySet_(props))}return selector});
Smalltalk.$def(function _registerDnuForAll_(anArray){var $_self_$=this;anArray.forEach(function(each){return $_self_$._registerDnu_(each)});return this});
Smalltalk.$def(function _selector_arguments_(selector,args){if(this.messageClass!==this)
return this.messageClass._selector_arguments_(selector,arguments);
return {
selector: selector,
_selector: function(){return this.selector},
arguments: args,
_arguments: function(){return this.arguments}
}});
Smalltalk.$def(function _throwFunction(){return function(arg){throw arg}});
Smalltalk.$def(function _throwFunctionName(){return "$throw$"});
Smalltalk._initializeCore();
function AssertionFailure(){};
function PjDictionary(){};
function ArithmeticError(){};
function PjUndefinedObject(){};
function PjCollection(){};
function ZeroDivide(){};
function PjSet(){};
function Point(){};
function PjLookupKey(){};
function PjRectangle(){};
function Margin(){};
function PjAssociation(){};
function PjMagnitude(){};
Object._subclass_("Object");
Object.prototype.$def(function _45_62_(anObject){return $asNil$(PjAssociation._basicNew())._key_value_(this,anObject)});
Object.prototype.$def(function _61_(other){return this==other});
Object.prototype.$def(function _61_61_(other){return this===other});
Object.prototype.$def(function _add_(assoc){var $_self_$=this;return Smalltalk._installDnuArgs_selector_js_for_else_([assoc],"add","_add_",this,function(){return $_self_$[($asNil$(assoc)._key())]=$asNil$(assoc)._value()})});
Object.prototype.$def(function _addAll_(aCollection){var $_self_$=this;$asNil$(aCollection)._do_(function(each){return $_self_$._add_(each)});return aCollection});
Object.prototype.$def(function _allEnumeratableKeys(){var allKeys;allKeys=PjSet._new();this._allEnumeratableKeysDo_(function(each){return $asNil$(allKeys)._add_(each)});return allKeys});
Object.prototype.$def(function _allEnumeratableKeysDo_(aBlock){for (var i in this){aBlock._value_(i)};
return this;});
Object.prototype.$def(function _as_(aSimilarClass){return $asNil$(aSimilarClass)._newFrom_(this)});
Object.prototype.$def(function _asJSON(){return $asNil$(JSON)._stringify_(this._value())});
Object.prototype.$def(function _asJsObject(){return this});
Object.prototype.$def(function _asOrderedCollection(){return Array._with_(this)});
Object.prototype.$def(function _associationsDo_(aBlock){this._keysAndValuesDo_(function(key,value){return $asNil$(aBlock)._value_(PjAssociation._key_value_(key,value))});return this});
Object.prototype.$def(function _at_(key){return this[key]});
Object.prototype.$def(function _at_ifAbsent_(key,aBlock){if(true==this.hasOwnProperty(key))return this[key];return $asNil$(aBlock)._value()});
Object.prototype.$def(function _at_ifPresent_(key,aBlock){if(false==this.hasOwnProperty(key))return undefined;return $asNil$(aBlock)._cull_(this[key])});
Object.prototype.$def(function _at_ifPresent_ifAbsent_(key,aBlock,anotherBlock){if(true==this.hasOwnProperty(key))return $asNil$(aBlock)._cull_(this[key]);return $asNil$(anotherBlock)._value()});
Object.prototype.$def(function _at_put_(key,value){return this[key]=value});
Object.prototype.$def(function _class(){return this.constructor});
Object.prototype.$def(function _className(){return $asNil$($asNil$(this._class())._name())._asString()});
Object.prototype.$def(function _copy(){return $asNil$(this._shallowCopy())._postCopy()});
Object.prototype.$def(function _do_(aBlock){return this._valuesDo_(aBlock)});
Object.prototype.$def(function _doesNotUnderstand_(aMessage){return Smalltalk._handleDNU_for_(aMessage,this)});
Object.prototype.$def(function _error_(aString){return $asNil$(Error._new())._signal_(aString)});
Object.prototype.$def(function _flag_(aSymbol){return this});
Object.prototype.$def(function _hash(){return this._identityHash()});
Object.prototype.$def(function _identityHash(){if(($1=this._instVarNamed_("_js_hash"))==undefined)return this._instVarNamed_putHidden_("_js_hash",$asNil$(this._class())._nextIdentityHash());else return $1});
Object.prototype.$def(function _ifNil_(nilBlock){return this});
Object.prototype.$def(function _ifNil_ifNotNil_(nilBlock,ifNotNilBlock){return $asNil$(ifNotNilBlock)._cull_(this)});
Object.prototype.$def(function _ifNotNil_(ifNotNilBlock){return $asNil$(ifNotNilBlock)._cull_(this)});
Object.prototype.$def(function _ifNotNil_ifNil_(ifNotNilBlock,nilBlock){return $asNil$(ifNotNilBlock)._cull_(this)});
Object.prototype.$def(function _includesKey_(key){return this.hasOwnProperty(key)});
Object.prototype.$def(function _initialize(){return this});
Object.prototype.$def(function _instVarNamed_(aString){return this[aString]});
Object.prototype.$def(function _instVarNamed_put_(aString,anObject){return this[aString]=anObject});
Object.prototype.$def(function _instVarNamed_putHidden_(aString,anObject){try{Object.defineProperty(this,aString,{value:anObject,writable:true})}catch(e){}
return anObject});
Object.prototype.$def(function _isArray(){return false});
Object.prototype.$def(function _isBehavior(){return false});
Object.prototype.$def(function _isBlock(){return false});
Object.prototype.$def(function _isCharacter(){return false});
Object.prototype.$def(function _isClass(){return false});
Object.prototype.$def(function _isCollection(){return false});
Object.prototype.$def(function _isEmpty(){var $_err_$={};try{this._keysDo_(function(){throw $_err_$=false});return true}catch(e){if(e===$_err_$)return e;throw e}});
Object.prototype.$def(function _isFloat(){return false});
Object.prototype.$def(function _isInteger(){return false});
Object.prototype.$def(function _isJSPrimitiveType(){return false});
Object.prototype.$def(function _isKindOf_(aClass){if(this._class()===aClass)return true;else return $asNil$(this._class())._inheritsFrom_(aClass)});
Object.prototype.$def(function _isMemberOf_(aClass){return this._class()===aClass});
Object.prototype.$def(function _isNil(){return false});
Object.prototype.$def(function _isNotNil(){return true});
Object.prototype.$def(function _isNumber(){return false});
Object.prototype.$def(function _isStream(){return false});
Object.prototype.$def(function _isString(){return false});
Object.prototype.$def(function _isSymbol(){return false});
Object.prototype.$def(function _keys(){var result;result=Array._new();this._keysDo_(function(key){return $asNil$(result)._addLast_(key)});return result});
Object.prototype.$def(function _keysAndValuesDo_(aBlock){for (var i in this){if(this.hasOwnProperty(i))aBlock._value_value_(i,this[i])};
return this;});
Object.prototype.$def(function _keysDo_(aBlock){for (var i in this){if(this.hasOwnProperty(i))aBlock._value_(i)};
return this;});
Object.prototype.$def(function _notNil(){return true});
Object.prototype.$def(function _perform_(selector){return $asNil$(this[(Smalltalk._registerDnu_(selector))])._call_(this)});
Object.prototype.$def(function _perform_with_(selector,arg){return $asNil$(this[(Smalltalk._registerDnu_(selector))])._call_with_(this,arg)});
Object.prototype.$def(function _perform_with_with_(selector,arg1,arg2){return $asNil$(this[(Smalltalk._registerDnu_(selector))])._call_with_with_(this,arg1,arg2)});
Object.prototype.$def(function _perform_with_with_with_(selector,arg1,arg2,arg3){return $asNil$(this[(Smalltalk._registerDnu_(selector))])._call_with_with_with_(this,arg1,arg2,arg3)});
Object.prototype.$def(function _perform_withArguments_(selector,argArray){return $asNil$(this[(Smalltalk._registerDnu_(selector))])._apply_with_(this,argArray)});
Object.prototype.$def(function _perform_withArguments_inSuperclass_(selector,argArray,lookupClass){return $asNil$(($asNil$(lookupClass)._prototype())[(Smalltalk._registerDnu_(selector))])._apply_with_(this,argArray)});
Object.prototype.$def(function _postCopy(){return this});
Object.prototype.$def(function _printString(){var jsResponse;jsResponse=this.toString();if(false==(true==$asNil$(jsResponse)._isEmpty()||$asNil$(jsResponse)._beginsWith_("[")))return jsResponse;if(true==$asNil$($asNil$(this._className())._first())._isVowel())return "an "+this._className();return "a "+this._className()});
Object.prototype.$def(function _proxyResponse(){var name = this.$_jsName;
if (!name) {
Object.$Pj_counter = (Object.$Pj_counter||0)+1;
name = "$_"+Object.$Pj_counter;
(function(){return this})()[name]=this;
try{Object.defineProperty(this,"$_jsName",{value:name,writable:true})}catch(e){}
}
return { remove : this.$PjProxyRemove , proxy : name}});
Object.prototype.$def(function _release(){return this});
Object.prototype.$def(function _removeKey_(key){var result=this[key];delete this[key];return result});
Object.prototype.$def(function _respondsTo_(aSymbol){return $asNil$(this._class())._canUnderstand_(aSymbol)});
Object.prototype.$def(function _shallowCopy(){var copy;copy=$asNil$(this._class())._basicNew();this._keysAndValuesDo_(function(key,value){return $asNil$(copy)._instVarNamed_put_(key,value)});return copy});
Object.prototype.$def(function _size(){var count;count=0;this._keysAndValuesDo_(function(key,value){return count=count+1});return count});
Object.prototype.$def(function _species(){return this._class()});
Object.prototype.$def(function _typeof(){return typeof this});
Object.prototype.$def(function _typeof_(anObject){return typeof anObject});
Object.prototype.$def(function _value(){var $_self_$=this;return Smalltalk._installDnuArgs_selector_js_for_else_([],"value","_value",this,function(){return $_self_$})});
Object.prototype.$def(function _valuesDo_(aBlock){for (var i in this){if(this.hasOwnProperty(i))aBlock._value_(this[i])};
return this;});
Object.prototype.$def(function _yourself(){return this});
Object.prototype.$def(function _126_61_(other){return $asNil$((this==other))._not()});
Object.prototype.$def(function _126_126_(other){return $asNil$((this===other))._not()});
Object.__proto__.$def(function _addDnuSupportFor_(selector){if(Object.prototype[selector] != undefined){return;}
Object.prototype.selector =  function(){
throw "Does not understand message " + selector;};});
Object.__proto__.$def(function _newFrom_(aDict){var newDictionary,$_self_$=this;newDictionary=this._new_($asNil$(aDict)._size());$asNil$(aDict)._associationsDo_(function(x){if(true==$asNil$(newDictionary)._includesKey_($asNil$(x)._key()))return $_self_$._error_("Duplicate key: "+$asNil$($asNil$(x)._key())._printString());else return $asNil$(newDictionary)._add_(x)});return newDictionary});
Object.__proto__.$def(function _newFromPairs_(anArray){var newDictionary;newDictionary=this._new_($asNil$($asNil$(anArray)._size())._47_(2));(1)._to_by_do_($asNil$(anArray)._size()-1,2,function(i){return $asNil$(newDictionary)._at_put_($asNil$(anArray)._at_(i),$asNil$(anArray)._at_(i+1))});return newDictionary});
Object.__proto__.$def(function _nextIdentityHash(){return this.nextIdentityHash=$asNil$((($1=this.nextIdentityHash)==undefined?12345:$1))._hashMultiply()});
Object.__proto__.$def(function _resultObject_(result){if (result != undefined) return result._proxyResponse();
return null;});
Object._subclass_("Number");
(function($$){
$$.E_=function($0){return $$.E=$0};
$$.Epsilon_=function($0){return $$.Epsilon=$0};
$$.Halfpi_=function($0){return $$.Halfpi=$0};
$$.Infinity_=function($0){return $$.Infinity=$0};
$$.Ln10_=function($0){return $$.Ln10=$0};
$$.Ln2_=function($0){return $$.Ln2=$0};
$$.MaxVal_=function($0){return $$.MaxVal=$0};
$$.MaxValLn_=function($0){return $$.MaxValLn=$0};
$$.MinValLogBase2_=function($0){return $$.MinValLogBase2=$0};
$$.NaN_=function($0){return $$.NaN=$0};
$$.NegativeInfinity_=function($0){return $$.NegativeInfinity=$0};
$$.NegativeZero_=function($0){return $$.NegativeZero=$0};
$$.Pi_=function($0){return $$.Pi=$0};
$$.RadiansPerDegree_=function($0){return $$.RadiansPerDegree=$0};
$$.Sqrt2_=function($0){return $$.Sqrt2=$0};
$$.ThreePi_=function($0){return $$.ThreePi=$0};
$$.Twopi_=function($0){return $$.Twopi=$0};})(Number.prototype);
Number.prototype.$def(function _37_(anObject){return Math.sign(anObject)*(Math.abs(this) % anObject)});
Number.prototype.$def(function _42_(anObject){return this * anObject;});
Number.prototype.$def(function _43_(anObject){return this + anObject;});
Number.prototype.$def(function _45_(anObject){return this - anObject;});
Number.prototype.$def(function _47_(anObject){if(anObject==0) return ZeroDivide._signal();return this / anObject;});
Number.prototype.$def(function _47_47_(anObject){return $asNil$(Math)._floor_(this._47_(anObject))});
Number.prototype.$def(function _60_(other){return this < other});
Number.prototype.$def(function _60_61_(aMagnitude){return $asNil$((this>aMagnitude))._not()});
Number.prototype.$def(function _61_(other){return this == other});
Number.prototype.$def(function _61_61_(other){return this == other});
Number.prototype.$def(function _62_(aMagnitude){return aMagnitude<this});
Number.prototype.$def(function _62_61_(aMagnitude){return aMagnitude<=this});
Number.prototype.$def(function _64_(y){return Point._x_y_(this,y)});
Number.prototype.$def(function _92_92_(anObject){return this._37_(anObject)});
Number.prototype.$def(function _abs(){return Math.abs(this);});
Number.prototype.$def(function _arcCos(){return Math.acos(this);});
Number.prototype.$def(function _arcSin(){return Math.asin(this);});
Number.prototype.$def(function _arcTan(){return Math.atan(this);});
Number.prototype.$def(function _arcTan_(denominator){return Math.atan2(this,denominator);});
Number.prototype.$def(function _asCharacter(){return String._value_(this)});
Number.prototype.$def(function _asFloat(){return +this});
Number.prototype.$def(function _asInteger(){return this._truncated()});
Number.prototype.$def(function _asNumber(){return this});
Number.prototype.$def(function _asString(){return this + ""});
Number.prototype.$def(function _basicIdentityHash(){return this});
Number.prototype.$def(function _between_and_(min,max){if(this>=min)return this<=max;else return false});
Number.prototype.$def(function _bitAnd_(arg){return this&arg});
Number.prototype.$def(function _bitInvert(){return ~this});
Number.prototype.$def(function _bitOr_(arg){return this|arg});
Number.prototype.$def(function _bitShift_(shiftCount){if (shiftCount<0) return this>>(-shiftCount);return this<<shiftCount});
Number.prototype.$def(function _bitXor_(arg){return this^arg});
Number.prototype.$def(function _ch(){return this + "ch"});
Number.prototype.$def(function _cm(){return this + "cm"});
Number.prototype.$def(function _compareWith_ifLesser_ifEqual_ifGreater_(anotherMagnitude,lesserBlock,equalBlock,greaterBlock){var $_self_$=this;return $asNil$((this<anotherMagnitude))._ifTrue_ifFalse_(lesserBlock,function(){return $asNil$(($_self_$==anotherMagnitude))._ifTrue_ifFalse_(equalBlock,greaterBlock)})});
Number.prototype.$def(function _cos(){return Math.cos(this);});
Number.prototype.$def(function _degreesToRadians(){return this._42_(this.RadiansPerDegree)});
Number.prototype.$def(function _em(){return this + "em"});
Number.prototype.$def(function _even(){return this%2==0});
Number.prototype.$def(function _ex(){return this + "ex"});
Number.prototype.$def(function _exp(){return Math.exp(this);});
Number.prototype.$def(function _floorLog_(radix){return $asNil$(this._log_(radix))._floor()});
Number.prototype.$def(function _fractionPart(){return this._45_(this._integerPart())});
Number.prototype.$def(function _hash(){return this});
Number.prototype.$def(function _hashMultiply(){var low;low=this._bitAnd_(16383);return $asNil$($asNil$((9741*low))._43_($asNil$($asNil$((9741*this._bitShift_(-14)))._43_(101*low))._bitAnd_(16383)*16384))._bitAnd_(268435455)});
Number.prototype.$def(function _highBit(){if(this<0)return this._error_("highBit is not defined for negative integers");return this._highBitOfPositiveReceiver()});
Number.prototype.$def(function _highBitOfPositiveReceiver(){var shifted,bitNo;shifted=this;bitNo=0;while(65536<shifted){shifted=$asNil$(shifted)._bitShift_(-16);bitNo=bitNo+16}if(256<shifted){shifted=$asNil$(shifted)._bitShift_(-8);bitNo=bitNo+8}if(16<shifted){shifted=$asNil$(shifted)._bitShift_(-4);bitNo=bitNo+4}if(4<shifted){shifted=$asNil$(shifted)._bitShift_(-2);bitNo=bitNo+2}if(2<shifted){shifted=$asNil$(shifted)._bitShift_(-1);bitNo=bitNo+1}return $asNil$(shifted)._43_(bitNo)});
Number.prototype.$def(function _identityHash(){return this._hashMultiply()});
Number.prototype.$def(function _in(){return this + "in"});
Number.prototype.$def(function _integerPart(){return this._truncated()});
Number.prototype.$def(function _isFloat(){return $asNil$(this._isInteger())._not()});
Number.prototype.$def(function _isInfinite(){if(this==this.Infinity)return true;else return this==this.NegativeInfinity});
Number.prototype.$def(function _isInteger(){return (this|0)==this});
Number.prototype.$def(function _isJSPrimitiveType(){return true});
Number.prototype.$def(function _isNaN(){return isNaN(this)});
Number.prototype.$def(function _isNumber(){return true});
Number.prototype.$def(function _isZero(){return this==0});
Number.prototype.$def(function _ln(){return Math.log(this);});
Number.prototype.$def(function _log(){return Math.log10(this);});
Number.prototype.$def(function _log_(aNumber){return $asNil$(this._ln())._47_($asNil$(aNumber)._ln())});
Number.prototype.$def(function _lowBit(){var n,result;n=this;if(n==0)return 0;result=1;while($asNil$(n)._bitAnd_(255)==0){result=result+8;n=$asNil$(n)._bitShift_(-8)}while($asNil$(n)._bitAnd_(1)==0){result=result+1;n=$asNil$(n)._bitShift_(-1)}return result});
Number.prototype.$def(function _max_(aMagnitude){if(this>aMagnitude)return this;else return aMagnitude});
Number.prototype.$def(function _min_(aMagnitude){if(this<aMagnitude)return this;else return aMagnitude});
Number.prototype.$def(function _min_max_(aMin,aMax){return $asNil$(this._min_(aMin))._max_(aMax)});
Number.prototype.$def(function _mm(){return this + "mm"});
Number.prototype.$def(function _negated(){return 0-this});
Number.prototype.$def(function _negative(){return this<0});
Number.prototype.$def(function _odd(){return this._even()===false});
Number.prototype.$def(function _pc(){return this + "pc"});
Number.prototype.$def(function _percnt(){return this + "%"});
Number.prototype.$def(function _positive(){return this>=0});
Number.prototype.$def(function _proxyResponse(){return 0+this});
Number.prototype.$def(function _pt(){return this + "pt"});
Number.prototype.$def(function _px(){return this + "px"});
Number.prototype.$def(function _quo_(aNumber){return $asNil$(this._47_(aNumber))._truncated()});
Number.prototype.$def(function _raisedTo_(aNumber){if(true==$asNil$(aNumber)._isInteger())return this._raisedToInteger_(aNumber);if(true==$asNil$(aNumber)._isFraction())return $asNil$(this._nthRoot_($asNil$(aNumber)._denominator()))._raisedToInteger_($asNil$(aNumber)._numerator());if(this<0)return ArithmeticError._signal_("Negative numbers can't be raised to float powers.");if(0==aNumber)return $asNil$(this._class())._one();if(1==aNumber)return this;if(0==this)if(aNumber<0)return $asNil$(ZeroDivide._dividend_(this))._signal();else return this;return $asNil$($asNil$(aNumber)._42_(this._ln()))._exp()});
Number.prototype.$def(function _raisedToInteger_(anInteger){var bitProbe,result;if(true==$asNil$(anInteger)._negative())return $asNil$(this._raisedToInteger_($asNil$(anInteger)._negated()))._reciprocal();bitProbe=(1)._bitShift_($asNil$(anInteger)._highBit()-1);result=$asNil$(this._class())._one();while(true==(($asNil$(anInteger)._bitAnd_(bitProbe)==0?undefined:(result=$asNil$(result)._42_(this))),(bitProbe=$asNil$(bitProbe)._bitShift_(-1)),bitProbe>0)){result=$asNil$(result)._42_(result)}return result});
Number.prototype.$def(function _reciprocal(){return (1)._47_(this)});
Number.prototype.$def(function _rem(){return this + "rem"});
Number.prototype.$def(function _rem_(aNumber){return this._45_($asNil$(this._quo_(aNumber))._42_(aNumber))});
Number.prototype.$def(function _rounded(){if($asNil$(this._fractionPart())._abs()<0.5)return this._truncated();else return $asNil$(this._truncated())._43_($asNil$(this._sign())._rounded())});
Number.prototype.$def(function _sign(){return Math.sign(this);});
Number.prototype.$def(function _sin(){return Math.sin(this);});
Number.prototype.$def(function _sqrt(){return Math.sqrt(this);});
Number.prototype.$def(function _squared(){return this._42_(this)});
Number.prototype.$def(function _strictlyPositive(){return this>0});
Number.prototype.$def(function _tan(){return Math.tan(this);});
Number.prototype.$def(function _timesRepeat_(aBlock){(1)._to_do_(this,aBlock);return this});
Number.prototype.$def(function _to_(end){var interval;interval=Array._new();this._to_by_do_(end,1,function(each){return $asNil$(interval)._add_(each)});return interval});
Number.prototype.$def(function _to_by_do_(end,step,aBlock){for(var i=this; i <= end; i += step){aBlock(i);}});
Number.prototype.$def(function _to_do_(end,aBlock){this._to_by_do_(end,1,aBlock);return this});
Number.prototype.$def(function _truncated(){if (this>=0)return Math.floor(this);return Math.ceil(this)});
Number.prototype.$def(function _value(){return 0+this});
Number.prototype.$def(function _vh(){return this + "vh"});
Number.prototype.$def(function _vmax(){return this + "vmax"});
Number.prototype.$def(function _vmin(){return this + "vmin"});
Number.prototype.$def(function _vw(){return this + "vw"});
Number.prototype.$def(function _124_(anObject){return this | anObject;});
Number.prototype.$def(function _126_61_(other){return this != other});
Number.__proto__.$def(function _denormalized(){return true});
Number.__proto__.$def(function _e(){return this.prototype.E});
Number.__proto__.$def(function _emax(){return 1023});
Number.__proto__.$def(function _emin(){return -1022});
Number.__proto__.$def(function _epsilon(){return 1.0._timesTwoPower_(1-this._precision())});
Number.__proto__.$def(function _fmax(){return this.prototype.MaxVal});
Number.__proto__.$def(function _fmin(){if(true==this._denormalized())return this._fminDenormalized();else return this._fminNormalized()});
Number.__proto__.$def(function _fminDenormalized(){return 1.0._timesTwoPower_(this.prototype.MinValLogBase2)});
Number.__proto__.$def(function _fminNormalized(){return 1.0._timesTwoPower_(-1022)});
Number.__proto__.$def(function _halfPi(){return this.prototype.Halfpi});
Number.__proto__.$def(function _infinity(){return this.prototype.Infinity});
Number.__proto__.$def(function _javascriptInitialize(){this.prototype.Pi=$asNil$(Math)._instVarNamed_("PI");this.prototype.Halfpi=$asNil$(this.prototype.Pi)._47_(2.0);this.prototype.Twopi=this.prototype.Pi*2.0;this.prototype.ThreePi=this.prototype.Pi*3.0;this.prototype.RadiansPerDegree=$asNil$(this.prototype.Pi)._47_(180.0);this.prototype.Ln2=$asNil$(Math)._instVarNamed_("LN2");this.prototype.Ln10=$asNil$(Math)._instVarNamed_("LN10");this.prototype.Sqrt2=$asNil$(Math)._instVarNamed_("SQRT2");this.prototype.E=$asNil$(Math)._instVarNamed_("E");this.prototype.Epsilon=1.0e-12;this.prototype.MaxVal=Number._instVarNamed_("MAX_VALUE");this.prototype.MaxValLn=709.782712893384;this.prototype.MinValLogBase2=-1074;this.prototype.Infinity=Number._instVarNamed_("POSITIVE_INFINITY");this.prototype.NegativeInfinity=Number._instVarNamed_("NEGATIVE_INFINITY");this.prototype.NaN=Number._instVarNamed_("NaN");this.prototype.NegativeZero=1.0._47_(this.prototype.NegativeInfinity);return this});
Number.__proto__.$def(function _maxExactInteger(){return (1)._bitShift_(this._precision())});
Number.__proto__.$def(function _nan(){return this.prototype.NaN});
Number.__proto__.$def(function _negativeInfinity(){return this.prototype.NegativeInfinity});
Number.__proto__.$def(function _negativeZero(){return this.prototype.NegativeZero});
Number.__proto__.$def(function _one(){return 1.0});
Number.__proto__.$def(function _pi(){return this.prototype.Pi});
Number.__proto__.$def(function _precision(){return 53});
Number.__proto__.$def(function _radix(){return 2});
Number.__proto__.$def(function _threePi(){return this.prototype.ThreePi});
Number.__proto__.$def(function _twoPi(){return this.prototype.Twopi});
Number.__proto__.$def(function _zero(){return 0.0});
Object._subclass_("Boolean");
Boolean.prototype.$def(function _38_(aBoolean){if(true==this)return aBoolean;else return false});
Boolean.prototype.$def(function _61_(other){return this==Boolean(other)});
Boolean.prototype.$def(function _61_61_(other){return this==other});
Boolean.prototype.$def(function _61_61_62_(aBlock){if(true==this._not())return true;else return $asNil$(aBlock)._value()});
Boolean.prototype.$def(function _and_(aBlock){if(this==true){return aBlock();}else{return false;}});
Boolean.prototype.$def(function _asBit(){return this + 0});
Boolean.prototype.$def(function _asJsObject(){return this == true});
Boolean.prototype.$def(function _asString(){return this + ""});
Boolean.prototype.$def(function _eqv_(aBoolean){return this===aBoolean});
Boolean.prototype.$def(function _identityHash(){return this*256+512});
Boolean.prototype.$def(function _ifFalse_(aBlock){return this._ifTrue_ifFalse_(function(){return undefined},aBlock)});
Boolean.prototype.$def(function _ifFalse_ifTrue_(falseBlock,trueBlock){return this._ifTrue_ifFalse_(trueBlock,falseBlock)});
Boolean.prototype.$def(function _ifTrue_(aBlock){return this._ifTrue_ifFalse_(aBlock,function(){return undefined})});
Boolean.prototype.$def(function _ifTrue_ifFalse_(trueBlock,falseBlock){if(this==true){return typeof trueBlock=="function"?trueBlock():trueBlock}else{return typeof falseBlock=="function"?falseBlock():falseBlock}});
Boolean.prototype.$def(function _isJSPrimitiveType(){return true});
Boolean.prototype.$def(function _not(){if(true==this)return false;else return true});
Boolean.prototype.$def(function _or_(aBlock){if(this==true){return true}else{return aBlock()}});
Boolean.prototype.$def(function _proxyResponse(){return true==this});
Boolean.prototype.$def(function _value(){return true==this});
Boolean.prototype.$def(function _xor_(aBoolean){if(true==this)return $asNil$($asNil$(aBoolean)._value())._not();else return $asNil$(aBoolean)._value()});
Boolean.prototype.$def(function _124_(aBoolean){if(true==this)return true;else return aBoolean});
Boolean.prototype.$def(function _126_126_(other){return this!=other});
Object._subclass_("Function");
Function.prototype.$def(function _assert(){if(false==this._value())AssertionFailure._signal_("Assertion failed");return this});
Function.prototype.$def(function _basicNew(){return new this()});
Function.prototype.$def(function _basicNew_(arg){return new this(arg)});
Function.prototype.$def(function _basicNew_with_(arg1,arg2){return new this(arg1, arg2)});
Function.prototype.$def(function _basicNew_with_with_(arg1,arg2,arg3){return new this(arg1, arg2, arg3)});
Function.prototype.$def(function _basicNew_with_with_with_(arg1,arg2,arg3,arg4){return new this(arg1, arg2, arg3, arg4)});
Function.prototype.$def(function _basicNew_with_with_with_with_(arg1,arg2,arg3,arg4,arg5){return new this(arg1, arg2, arg3, arg4, arg5)});
Function.prototype.$def(function _canUnderstand_(selector){var jsSelector;jsSelector=Smalltalk._makeJavascriptSelector_(selector);if((selct=(this._prototype())[jsSelector])==undefined)return false;else return "__DNU"!=selct.name});
Function.prototype.$def(function _close(){Smalltalk._log_("unoptimized close may not capture semantics");return this});
Function.prototype.$def(function _cull_(arg){return this._value_(arg)});
Function.prototype.$def(function _cull_cull_(arg1,arg2){return this._value_value_(arg1,arg2)});
Function.prototype.$def(function _cull_cull_cull_(arg1,arg2,arg3){return this._value_value_value_(arg1,arg2,arg3)});
Function.prototype.$def(function _cull_cull_cull_cul_(arg1,arg2,arg3,arg4){return this._value_value_value_value_(arg1,arg2,arg3,arg4)});
Function.prototype.$def(function _ensure_(aBlock){try{
return this()
}finally{aBlock()}});
Function.prototype.$def(function _ifCurtailed_(curtailBlock){var result,curtailed,$_self_$=this;curtailed=true;(function(){result=$_self_$._value();return curtailed=false})._ensure_(function(){if(true==curtailed)return $asNil$(curtailBlock)._value();else return undefined});return result});
Function.prototype.$def(function _inheritsFrom_(aClass){var aSuperclass;aSuperclass=this._superclass();while(aSuperclass!==undefined){if(aSuperclass===aClass)return true;aSuperclass=$asNil$(aSuperclass)._superclass()}return false});
Function.prototype.$def(function _isBlock(){return true});
Function.prototype.$def(function _new(){var $1;return ($1=$asNil$(this._basicNew()),$1._initialize(),$1._yourself())});
Function.prototype.$def(function _new_(arg){var $1;return ($1=$asNil$(this._basicNew_(arg)),$1._initialize(),$1._yourself())});
Function.prototype.$def(function _new_with_(arg1,arg2){var $1;return ($1=$asNil$(this._basicNew_with_(arg1,arg2)),$1._initialize(),$1._yourself())});
Function.prototype.$def(function _new_with_with_(arg1,arg2,arg3){var $1;return ($1=$asNil$(this._basicNew_with_with_(arg1,arg2,arg3)),$1._initialize(),$1._yourself())});
Function.prototype.$def(function _new_with_with_with_(arg1,arg2,arg3,arg4){var $1;return ($1=$asNil$(this._basicNew_with_with_with_(arg1,arg2,arg3,arg4)),$1._initialize(),$1._yourself())});
Function.prototype.$def(function _new_with_with_with_with_(arg1,arg2,arg3,arg4,arg5){var $1;return ($1=$asNil$(this._basicNew_with_with_with_with_(arg1,arg2,arg3,arg4,arg5)),$1._initialize(),$1._yourself())});
Function.prototype.$def(function _on_do_(exception,handlerAction){try{
return this()
}catch(ex){
if(ex._isKindOf_(exception)){return handlerAction(ex)}
throw ex
}});
Function.prototype.$def(function _superclass(){if(this===Object)return undefined;return $asNil$(this.prototype.__proto__)._class()});
Function.prototype.$def(function _value(){return this();});
Function.prototype.$def(function _value_(arg){return this(arg);});
Function.prototype.$def(function _value_value_(arg1,arg2){return this(arg1, arg2);});
Function.prototype.$def(function _value_value_value_(arg1,arg2,arg3){return this(arg1, arg2, arg3);});
Function.prototype.$def(function _value_value_value_value_(arg1,arg2,arg3,arg4){return this(arg1, arg2, arg3, arg4);});
Function.prototype.$def(function _valueWithArguments_(anArray){return this.apply(this,anArray)});
Function.prototype.$def(function _valueWithEnoughArguments_(anArray){return this.apply(this,anArray)});
Function.prototype.$def(function _whileFalse(){this._whileFalse_(function(){return undefined});return this});
Function.prototype.$def(function _whileFalse_(loopBlock){while(false==this()){loopBlock();}});
Function.prototype.$def(function _whileTrue(){this._whileTrue_(function(){return undefined});return this});
Function.prototype.$def(function _whileTrue_(loopBlock){while(true==this()){loopBlock();}});
Function.__proto__.$def(function _forceSubclass_(aFunction){aFunction.__proto__=this.prototype;return this});
Object._subclass_("PjUndefinedObject");
PjUndefinedObject.prototype.$def(function _61_(other){return undefined==other});
PjUndefinedObject.prototype.$def(function _asJSON(){return "null"});
PjUndefinedObject.prototype.$def(function _identityHash(){return 256});
PjUndefinedObject.prototype.$def(function _ifNil_(aBlock){return $asNil$(aBlock)._value()});
PjUndefinedObject.prototype.$def(function _ifNil_ifNotNil_(nilBlock,ifNotNilBlock){return $asNil$(nilBlock)._value()});
PjUndefinedObject.prototype.$def(function _ifNotNil_(aBlock){return this});
PjUndefinedObject.prototype.$def(function _ifNotNil_ifNil_(ifNotNilBlock,nilBlock){return $asNil$(nilBlock)._value()});
PjUndefinedObject.prototype.$def(function _isEmptyOrNil(){return true});
PjUndefinedObject.prototype.$def(function _isJSPrimitiveType(){return true});
PjUndefinedObject.prototype.$def(function _isNil(){return true});
PjUndefinedObject.prototype.$def(function _isNotNil(){return false});
PjUndefinedObject.prototype.$def(function _notNil(){return false});
PjUndefinedObject.prototype.$def(function _value(){return undefined});
PjUndefinedObject.__proto__.$def(function _javascriptInitialize(){Smalltalk._nilInJs_(this._basicNew());return this});
PjUndefinedObject.__proto__.$def(function _new(){return Smalltalk._signal_("cannot create instances of UndefinedObject")});
Object._subclass_("Error");
Error.prototype.$def(function _messageText(){return this.message});
Error.prototype.$def(function _messageText_(anObject){this.message=anObject;return this});
Error.prototype.$def(function _signal(){throw this});
Error.prototype.$def(function _signal_(aString){this._messageText_(aString);return this._signal()});
Error.__proto__.$def(function _javascriptInitialize(){this._instVarNamed_put_("stackTraceLimit",100);return this});
Error.__proto__.$def(function _signal(){return $asNil$(this._new())._signal()});
Error.__proto__.$def(function _signal_(aString){return $asNil$(this._new())._signal_(aString)});
Object._subclass_("Array");
Array.prototype.$def(function _44_(other){var $1;return ($1=$asNil$($asNil$(this._class())._new()),$1._addAll_(this),$1._addAll_(other),$1._yourself())});
Array.prototype.$def(function _61_(anArray){if(this.length!=anArray.length)return false;for(var i=0,max=this.length;i<max;++i)if(this[i]!=anArray[i])return false;return true});
Array.prototype.$def(function _add_(x){return this._addLast_(x)});
Array.prototype.$def(function _addAll_(aCollection){var $_self_$=this;$asNil$(aCollection)._do_(function(each){return $_self_$._add_(each)});return aCollection});
Array.prototype.$def(function _addAllLast_(aCollection){var $_self_$=this;$asNil$(aCollection)._do_(function(each){return $_self_$._addLast_(each)});return aCollection});
Array.prototype.$def(function _addFirst_(x){this.unshift(x);return x});
Array.prototype.$def(function _addLast_(x){this.push(x);return x});
Array.prototype.$def(function _allButFirst(){return this._allButFirst_(1)});
Array.prototype.$def(function _allButFirst_(n){return this._copyFrom_to_(n+1,this._size())});
Array.prototype.$def(function _allButLast(){return this._allButLast_(1)});
Array.prototype.$def(function _allButLast_(n){return this._copyFrom_to_(1,$asNil$(this._size())._45_(n))});
Array.prototype.$def(function _allSatisfy_(aBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))return undefined;else throw $_err_$=false});return true}catch(e){if(e===$_err_$)return e;throw e}});
Array.prototype.$def(function _anySatisfy_(aBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))throw $_err_$=true;else return undefined});return false}catch(e){if(e===$_err_$)return e;throw e}});
Array.prototype.$def(function _appendTo_(aCollection){return $asNil$(aCollection)._addAllLast_(this)});
Array.prototype.$def(function _asDictionary(){return this._as_(PjDictionary)});
Array.prototype.$def(function _asJsObject(){var jsObject;if(true==(true==this._notEmpty()&&$asNil$($asNil$(this._first())._isKindOf_(PjAssociation))._not()))return this;jsObject=Object._new();this._do_(function(association){return $asNil$(jsObject)._at_put_($asNil$(association)._key(),$asNil$($asNil$(association)._value())._asJsObject())});return jsObject});
Array.prototype.$def(function _asOrderedCollection(){return this._as_(Array)});
Array.prototype.$def(function _asSet(){return PjSet._withAll_(this)});
Array.prototype.$def(function _asString(){return $asNil$(String._new_(this._size()))._replaceFrom_to_with_(1,this._size(),this)});
Array.prototype.$def(function _associationsDo_(aBlock){this._do_(aBlock);return this});
Array.prototype.$def(function _at_(i){return this[i-1]});
Array.prototype.$def(function _at_ifAbsent_(index,aBlock){if(true==(index>0&&index>this._size()))return $asNil$(aBlock)._value();return this._at_(index)});
Array.prototype.$def(function _at_put_(i,x){return this[i-1]=x});
Array.prototype.$def(function _atRandom(){var randomIndex = Math.floor((Math.random() * this._size()) + 1);
return this._at_(randomIndex);});
Array.prototype.$def(function _collect_(aBlock){var result=[];for(var i=0,max=this.length;i<max;++i)result.push(typeof aBlock=="string"?$asNil$(this[i])._perform_(aBlock):aBlock(this[i]));return result});
Array.prototype.$def(function _copyFrom_to_(start,stop){var newSize;newSize=$asNil$(stop)._45_(start)+1;return $asNil$($asNil$(this._species())._new_(newSize))._replaceFrom_to_with_startingAt_(1,newSize,this,start)});
Array.prototype.$def(function _copyReplaceFrom_to_with_(start,stop,replacementCollection){var newSequenceableCollection,newSize,endReplacement;newSize=$asNil$($asNil$(this._size())._45_($asNil$(stop)._45_(start)+1))._43_($asNil$(replacementCollection)._size());endReplacement=$asNil$((start-1))._43_($asNil$(replacementCollection)._size());newSequenceableCollection=$asNil$(this._species())._new_(newSize);if(start>1)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(1,start-1,this,1);if(start<=endReplacement)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(start,endReplacement,replacementCollection,1);if(endReplacement<newSize)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(endReplacement+1,newSize,this,stop+1);return newSequenceableCollection});
Array.prototype.$def(function _copyWith_(newElement){var newIC;newIC=$asNil$(this._species())._new_(this._size()+1);$asNil$(newIC)._replaceFrom_to_with_startingAt_(1,this._size(),this,1);$asNil$(newIC)._at_put_($asNil$(newIC)._size(),newElement);return newIC});
Array.prototype.$def(function _copyWithFirst_(newElement){var newIC;newIC=$asNil$(this._species())._ofSize_(this._size()+1);$asNil$(newIC)._replaceFrom_to_with_startingAt_(2,this._size()+1,this,1);$asNil$(newIC)._at_put_(1,newElement);return newIC});
Array.prototype.$def(function _copyWithoutIndex_(index){var copy;copy=$asNil$(this._species())._ofSize_(this._size()-1);$asNil$(copy)._replaceFrom_to_with_startingAt_(1,index-1,this,1);$asNil$(copy)._replaceFrom_to_with_startingAt_(index,$asNil$(copy)._size(),this,index+1);return copy});
Array.prototype.$def(function _detect_ifFound_(aBlock,foundBlock){this._detect_ifFound_ifNone_(aBlock,foundBlock,function(){return undefined});return this});
Array.prototype.$def(function _detect_ifFound_ifNone_(aBlock,foundBlock,exceptionBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))throw $_err_$=$asNil$(foundBlock)._cull_(each);else return undefined});return $asNil$(exceptionBlock)._value()}catch(e){if(e===$_err_$)return e;throw e}});
Array.prototype.$def(function _detect_ifNone_(aBlock,exceptionBlock){return this._detect_ifFound_ifNone_(aBlock,function(element){return element},exceptionBlock)});
Array.prototype.$def(function _do_(aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i]);return this});
Array.prototype.$def(function _do_separatedBy_(elementBlock,separatorBlock){for(var i=0,max=this.length;i<max;++i){if(i)separatorBlock();elementBlock(this[i])};return this});
Array.prototype.$def(function _doWithIndex_(elementAndIndexBlock){return this._withIndexDo_(elementAndIndexBlock)});
Array.prototype.$def(function _first(){return this[0]});
Array.prototype.$def(function _from_to_put_(startIndex,endIndex,anObject){var written,toWrite,thisWrite;if(startIndex>endIndex)return this;this._at_put_(startIndex,anObject);written=1;toWrite=$asNil$(endIndex)._45_(startIndex)+1;while(written<toWrite){thisWrite=$asNil$(written)._min_($asNil$(toWrite)._45_(written));this._replaceFrom_to_with_startingAt_($asNil$(startIndex)._43_(written),$asNil$($asNil$(startIndex)._43_(written))._43_(thisWrite)-1,this,startIndex);written=$asNil$(written)._43_(thisWrite)}return anObject});
Array.prototype.$def(function _grownBy_(length){var newCollection,size;size=this._size();newCollection=$asNil$(this._species())._ofSize_($asNil$(size)._43_(length));$asNil$(newCollection)._replaceFrom_to_with_startingAt_(1,size,this,1);return newCollection});
Array.prototype.$def(function _ifEmpty_(aBlock){if(true==this._isEmpty())return $asNil$(aBlock)._value();return this});
Array.prototype.$def(function _includes_(x){if (x._isJSPrimitiveType()) {
if (this.includes(x)) return true;
for(var i=this.length-1;i>=0;--i) if (x==this[i]) return true;
return false}
for(var i=this.length-1;i>=0;--i) if (x._61_(this[i])) return true;
return false});
Array.prototype.$def(function _indexOf_(x){return this.indexOf(x)+1});
Array.prototype.$def(function _inject_into_(thisValue,binaryBlock){var nextValue;nextValue=thisValue;this._do_(function(each){return nextValue=$asNil$(binaryBlock)._value_value_(nextValue,each)});return nextValue});
Array.prototype.$def(function _insert_before_(anObject,spot){this.splice(spot-1, 0, anObject);return anObject});
Array.prototype.$def(function _isArray(){return true});
Array.prototype.$def(function _isCollection(){return true});
Array.prototype.$def(function _isEmpty(){return this._size()==0});
Array.prototype.$def(function _isEmptyOrNil(){return this._isEmpty()});
Array.prototype.$def(function _join_(aCollection){var result,$_self_$=this;result=$asNil$(this._class())._new();$asNil$(aCollection)._do_separatedBy_(function(each){return $asNil$(each)._appendTo_(result)},function(){return $_self_$._appendTo_(result)});return result});
Array.prototype.$def(function _last(){return this[this.length-1]});
Array.prototype.$def(function _noneSatisfy_(aBlock){var $_err_$={};try{this._do_(function(item){if(true==$asNil$(aBlock)._value_(item))throw $_err_$=false;else return undefined});return true}catch(e){if(e===$_err_$)return e;throw e}});
Array.prototype.$def(function _notEmpty(){return this.length!=0});
Array.prototype.$def(function _reject_(aBlock){return this._select_(function(element){return $asNil$(aBlock)._value_(element)===false})});
Array.prototype.$def(function _remove_(oldObject){var $_self_$=this;return this._remove_ifAbsent_(oldObject,function(){return $_self_$._errorNotFound_(oldObject)})});
Array.prototype.$def(function _remove_ifAbsent_(oldObject,absentBlock){var index;index=this._findIndex_(function(each){return $asNil$(oldObject)._61_(each)});if(index>=0)return this._removeAt_(index+1);return $asNil$(absentBlock)._value()});
Array.prototype.$def(function _removeAll(){for(var $1=1,$2=this._size();$1<=$2;++$1){this._removeFirst()}return this});
Array.prototype.$def(function _removeAll_(aCollection){var $_self_$=this;if(aCollection===this)return this._removeAll();$asNil$(aCollection)._do_(function(each){return $_self_$._remove_(each)});return aCollection});
Array.prototype.$def(function _removeAt_(aNumber){var result=this[aNumber-1];this.splice(aNumber - 1,1);return result});
Array.prototype.$def(function _removeFirst(){return this.shift()});
Array.prototype.$def(function _removeLast(){return this.pop()});
Array.prototype.$def(function _replaceFrom_to_with_(start,stop,replacement){if(false==$asNil$($asNil$(replacement)._size())._61_($asNil$(stop)._45_(start)+1))this._error_("Size of replacement doesnt match");return this._replaceFrom_to_with_startingAt_(start,stop,replacement,1)});
Array.prototype.$def(function _replaceFrom_to_with_startingAt_(start,stop,replacement,repStart){for(var mine=stop-1,other=mine+repStart-start;
mine>=start-1;
--other,--mine
)this[mine]=replacement[other];return this});
Array.prototype.$def(function _reverseDo_(aBlock){var $_self_$=this;$asNil$(this._size())._to_by_do_(1,-1,function(index){return $asNil$(aBlock)._value_($_self_$._at_(index))});return this});
Array.prototype.$def(function _second(){return this[1]});
Array.prototype.$def(function _select_(aBlock){var result=[];for(var i=0,max=this.length;i<max;++i){if(true==(typeof aBlock=="string"?$asNil$(this[i])._perform_(aBlock):aBlock(this[i])))result.push(this[i])}return result});
Array.prototype.$def(function _size(){return this.length});
Array.prototype.$def(function _third(){return this[2]});
Array.prototype.$def(function _with_do_(otherCollection,aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i],otherCollection[i]);return this});
Array.prototype.$def(function _withIndexDo_(aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i],i+1);return this});
Array.__proto__.$def(function _new_(ignored){return this._new()});
Array.__proto__.$def(function _newFrom_(aCollection){var newCollection;newCollection=this._new_($asNil$(aCollection)._size());$asNil$(newCollection)._addAll_(aCollection);return newCollection});
Array.__proto__.$def(function _with_(anObject){return [anObject]});
Array.__proto__.$def(function _with_with_(firstObject,secondObject){return [firstObject,secondObject]});
Array.__proto__.$def(function _with_with_with_(firstObject,secondObject,thirdObject){var newCollection;newCollection=this._new_(3);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);$asNil$(newCollection)._at_put_(3,thirdObject);return newCollection});
Array.__proto__.$def(function _with_with_with_with_(firstObject,secondObject,thirdObject,fourthObject){var newCollection;newCollection=this._new_(4);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);$asNil$(newCollection)._at_put_(3,thirdObject);$asNil$(newCollection)._at_put_(4,fourthObject);return newCollection});
Array.__proto__.$def(function _withAll_(aCollection){var $1;return ($1=$asNil$(this._new_($asNil$(aCollection)._size())),$1._addAll_(aCollection),$1._yourself())});
Object._subclass_("String");
String.prototype.$def(function _44_(other){return this+other});
String.prototype.$def(function _60_(other){return this<other});
String.prototype.$def(function _60_61_(other){return this<=other});
String.prototype.$def(function _61_(other){return this==other});
String.prototype.$def(function _62_(other){return this>other});
String.prototype.$def(function _62_61_(other){return this>=other});
String.prototype.$def(function _addAll_(aCollection){var $_self_$=this;$asNil$(aCollection)._do_(function(each){return $_self_$._add_(each)});return aCollection});
String.prototype.$def(function _addAllLast_(aCollection){var $_self_$=this;$asNil$(aCollection)._do_(function(each){return $_self_$._addLast_(each)});return aCollection});
String.prototype.$def(function _allButFirst(){return this.substring(1)});
String.prototype.$def(function _allButFirst_(n){return this.substring(n)});
String.prototype.$def(function _allButLast(){return this.substring(0,this._size()-1)});
String.prototype.$def(function _allButLast_(n){return this.substring(0,$asNil$(this._size())._45_(n))});
String.prototype.$def(function _allSatisfy_(aBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))return undefined;else throw $_err_$=false});return true}catch(e){if(e===$_err_$)return e;throw e}});
String.prototype.$def(function _anySatisfy_(aBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))throw $_err_$=true;else return undefined});return false}catch(e){if(e===$_err_$)return e;throw e}});
String.prototype.$def(function _appendTo_(aCollection){return $asNil$(aCollection)._addAllLast_(this)});
String.prototype.$def(function _asCharacter(){return this.charAt(0)});
String.prototype.$def(function _asDictionary(){return this._as_(PjDictionary)});
String.prototype.$def(function _asElementId(){return $asNil$(document)._getElementById_(this)});
String.prototype.$def(function _asElementSelector(){return $asNil$(document)._querySelector_(this)});
String.prototype.$def(function _asInteger(){return parseInt(this)});
String.prototype.$def(function _asJsObject(){var jsObject;if(true==(true==this._notEmpty()&&$asNil$($asNil$(this._first())._isKindOf_(PjAssociation))._not()))return this;jsObject=Object._new();this._do_(function(association){return $asNil$(jsObject)._at_put_($asNil$(association)._key(),$asNil$($asNil$(association)._value())._asJsObject())});return jsObject});
String.prototype.$def(function _asLowercase(){return this.toLowerCase()});
String.prototype.$def(function _asNumber(){return parseFloat(this)});
String.prototype.$def(function _asOrderedCollection(){return this._as_(Array)});
String.prototype.$def(function _asRegex(){return new RegExp(this)});
String.prototype.$def(function _asSet(){return PjSet._withAll_(this)});
String.prototype.$def(function _asString(){return ""+this});
String.prototype.$def(function _asSymbol(){return ""+this});
String.prototype.$def(function _asUppercase(){return this.toUpperCase()});
String.prototype.$def(function _asciiValue(){return this.charCodeAt(0)});
String.prototype.$def(function _associationsDo_(aBlock){this._do_(aBlock);return this});
String.prototype.$def(function _at_(index){return this[index - 1];});
String.prototype.$def(function _at_ifAbsent_(index,aBlock){if(true==(index>0&&index>this._size()))return $asNil$(aBlock)._value();return this._at_(index)});
String.prototype.$def(function _at_put_(index,anObject){throw new Error("cannot mutate strings");});
String.prototype.$def(function _atRandom(){var randomIndex = Math.floor((Math.random() * this._size()) + 1);
return this._at_(randomIndex);});
String.prototype.$def(function _basicAt_(aNumber){return this.charCodeAt(aNumber-1)});
String.prototype.$def(function _beginsWith_(prefix){return $asNil$(this.substring(0,$asNil$(prefix)._size()))._61_(prefix)});
String.prototype.$def(function _capitalized(){if(true==this._isEmpty())return this;return $asNil$((this.charAt(0)).toUpperCase())._44_(this.substring(1))});
String.prototype.$def(function _charCode(){return this._basicAt_(1)});
String.prototype.$def(function _codePoint(){return this.charCodeAt(0)});
String.prototype.$def(function _collect_(aBlock){var arr;arr=this.split("");(1)._to_do_(this._size(),function(idx){return $asNil$(arr)._at_put_(idx,$asNil$(aBlock)._value_($asNil$(arr)._at_(idx)))});return arr.join("")});
String.prototype.$def(function _copyFrom_(start){return this.substring(start-1)});
String.prototype.$def(function _copyFrom_to_(start,stop){return this.substring(start-1,stop)});
String.prototype.$def(function _copyReplaceFrom_to_with_(start,stop,replacementCollection){var newSequenceableCollection,newSize,endReplacement;newSize=$asNil$($asNil$(this._size())._45_($asNil$(stop)._45_(start)+1))._43_($asNil$(replacementCollection)._size());endReplacement=$asNil$((start-1))._43_($asNil$(replacementCollection)._size());newSequenceableCollection=$asNil$(this._species())._new_(newSize);if(start>1)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(1,start-1,this,1);if(start<=endReplacement)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(start,endReplacement,replacementCollection,1);if(endReplacement<newSize)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(endReplacement+1,newSize,this,stop+1);return newSequenceableCollection});
String.prototype.$def(function _copyWith_(newElement){var newIC;newIC=$asNil$(this._species())._new_(this._size()+1);$asNil$(newIC)._replaceFrom_to_with_startingAt_(1,this._size(),this,1);$asNil$(newIC)._at_put_($asNil$(newIC)._size(),newElement);return newIC});
String.prototype.$def(function _copyWithFirst_(newElement){var newIC;newIC=$asNil$(this._species())._ofSize_(this._size()+1);$asNil$(newIC)._replaceFrom_to_with_startingAt_(2,this._size()+1,this,1);$asNil$(newIC)._at_put_(1,newElement);return newIC});
String.prototype.$def(function _copyWithoutIndex_(index){var copy;copy=$asNil$(this._species())._ofSize_(this._size()-1);$asNil$(copy)._replaceFrom_to_with_startingAt_(1,index-1,this,1);$asNil$(copy)._replaceFrom_to_with_startingAt_(index,$asNil$(copy)._size(),this,index+1);return copy});
String.prototype.$def(function _detect_ifFound_(aBlock,foundBlock){this._detect_ifFound_ifNone_(aBlock,foundBlock,function(){return undefined});return this});
String.prototype.$def(function _detect_ifFound_ifNone_(aBlock,foundBlock,exceptionBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))throw $_err_$=$asNil$(foundBlock)._cull_(each);else return undefined});return $asNil$(exceptionBlock)._value()}catch(e){if(e===$_err_$)return e;throw e}});
String.prototype.$def(function _detect_ifNone_(aBlock,exceptionBlock){return this._detect_ifFound_ifNone_(aBlock,function(element){return element},exceptionBlock)});
String.prototype.$def(function _do_(aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i]);return this});
String.prototype.$def(function _do_separatedBy_(elementBlock,separatorBlock){for(var i=0,max=this.length;i<max;++i){if(i)separatorBlock();elementBlock(this[i])};return this});
String.prototype.$def(function _doWithIndex_(elementAndIndexBlock){return this._withIndexDo_(elementAndIndexBlock)});
String.prototype.$def(function _endsWith_(suffix){return $asNil$(this.substring($asNil$(this._size())._45_($asNil$(suffix)._size())))._61_(suffix)});
String.prototype.$def(function _findTokens_(delimiters){var tokens,keyStart,keyStop,separators;tokens=Array._new();separators=true==$asNil$(delimiters)._isCharacter()?Array._with_(delimiters):delimiters;keyStop=1;while(keyStop<=this._size()){keyStart=this._skipDelimiters_startingAt_(separators,keyStop);keyStop=this._findDelimiters_startingAt_(separators,keyStart);if(keyStart<keyStop)$asNil$(tokens)._add_(this._copyFrom_to_(keyStart,keyStop-1))}return tokens});
String.prototype.$def(function _first(){return this._at_(1)});
String.prototype.$def(function _first_(n){return this.substring(0,n)});
String.prototype.$def(function _from_to_put_(startIndex,endIndex,anObject){var written,toWrite,thisWrite;if(startIndex>endIndex)return this;this._at_put_(startIndex,anObject);written=1;toWrite=$asNil$(endIndex)._45_(startIndex)+1;while(written<toWrite){thisWrite=$asNil$(written)._min_($asNil$(toWrite)._45_(written));this._replaceFrom_to_with_startingAt_($asNil$(startIndex)._43_(written),$asNil$($asNil$(startIndex)._43_(written))._43_(thisWrite)-1,this,startIndex);written=$asNil$(written)._43_(thisWrite)}return anObject});
String.prototype.$def(function _grownBy_(length){var newCollection,size;size=this._size();newCollection=$asNil$(this._species())._ofSize_($asNil$(size)._43_(length));$asNil$(newCollection)._replaceFrom_to_with_startingAt_(1,size,this,1);return newCollection});
String.prototype.$def(function _hash(){return $asNil$(this._class())._stringHash_initialHash_(this,0)});
String.prototype.$def(function _ifEmpty_(aBlock){if(true==this._isEmpty())return $asNil$(aBlock)._value();return this});
String.prototype.$def(function _includes_(x){if (x._isJSPrimitiveType()) {
if (this.includes(x)) return true;
for(var i=this.length-1;i>=0;--i) if (x==this[i]) return true;
return false}
for(var i=this.length-1;i>=0;--i) if (x._61_(this[i])) return true;
return false});
String.prototype.$def(function _indexOf_(x){return this.indexOf(x)+1});
String.prototype.$def(function _inject_into_(thisValue,binaryBlock){var nextValue;nextValue=thisValue;this._do_(function(each){return nextValue=$asNil$(binaryBlock)._value_value_(nextValue,each)});return nextValue});
String.prototype.$def(function _insert_before_(anObject,spot){this.splice(spot-1, 0, anObject);return anObject});
String.prototype.$def(function _isArray(){return true});
String.prototype.$def(function _isCharacter(){return true});
String.prototype.$def(function _isCollection(){return true});
String.prototype.$def(function _isEmpty(){return this==""});
String.prototype.$def(function _isEmptyOrNil(){return this._isEmpty()});
String.prototype.$def(function _isJSPrimitiveType(){return true});
String.prototype.$def(function _isLetter(){var first;first=((this.charAt(0)).toUpperCase()).charCodeAt(0);if(first<65)return false;return first<=90});
String.prototype.$def(function _isString(){return true});
String.prototype.$def(function _isVowel(){return "AEIOU"._includes_(this._asUppercase())});
String.prototype.$def(function _join_(anArray){return anArray.join(this)});
String.prototype.$def(function _last(){return this._at_(this._size())});
String.prototype.$def(function _lastIndexOf_(x){return this.lastIndexOf(x)+1});
String.prototype.$def(function _noneSatisfy_(aBlock){var $_err_$={};try{this._do_(function(item){if(true==$asNil$(aBlock)._value_(item))throw $_err_$=false;else return undefined});return true}catch(e){if(e===$_err_$)return e;throw e}});
String.prototype.$def(function _notEmpty(){return this!=""});
String.prototype.$def(function _proxyResponse(){return ""+this});
String.prototype.$def(function _reject_(aBlock){return this._select_(function(element){return $asNil$(aBlock)._value_(element)===false})});
String.prototype.$def(function _remove_(oldObject){var $_self_$=this;return this._remove_ifAbsent_(oldObject,function(){return $_self_$._errorNotFound_(oldObject)})});
String.prototype.$def(function _removeAll_(aCollection){var $_self_$=this;if(aCollection===this)return this._removeAll();$asNil$(aCollection)._do_(function(each){return $_self_$._remove_(each)});return aCollection});
String.prototype.$def(function _replaceFrom_to_with_(start,stop,replacement){if(false==$asNil$($asNil$(replacement)._size())._61_($asNil$(stop)._45_(start)+1))this._error_("Size of replacement doesnt match");return this._replaceFrom_to_with_startingAt_(start,stop,replacement,1)});
String.prototype.$def(function _replaceFrom_to_with_startingAt_(start,stop,replacement,repStart){var repl=[],isString=typeof replacement=="string";
for(var mine=stop-1,other=mine+repStart-start;
mine>=start-1;
--other,--mine
)repl[other]=isString?replacement[other]:String.fromCharCode(replacement[other]);
return this.substring(0,start-1)+repl.join("")+this.substr(stop)});
String.prototype.$def(function _reverseDo_(aBlock){var $_self_$=this;$asNil$(this._size())._to_by_do_(1,-1,function(index){return $asNil$(aBlock)._value_($_self_$._at_(index))});return this});
String.prototype.$def(function _second(){return this[1]});
String.prototype.$def(function _select_(aBlock){var result=[];for(var i=0,max=this.length;i<max;++i){if(true==(typeof aBlock=="string"?$asNil$(this[i])._perform_(aBlock):aBlock(this[i])))result.push(this[i])}return result});
String.prototype.$def(function _size(){return this.length});
String.prototype.$def(function _split_(anArray){return anArray.split(this)});
String.prototype.$def(function _third(){return this[2]});
String.prototype.$def(function _to_(other){return $asNil$($asNil$(this._asciiValue())._to_($asNil$(other)._asciiValue()))._collect_(function(ascii){return String._value_(ascii)})});
String.prototype.$def(function _value(){return ""+this});
String.prototype.$def(function _with_do_(otherCollection,aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i],otherCollection[i]);return this});
String.prototype.$def(function _withIndexDo_(aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i],i+1);return this});
String.prototype.$def(function _126_61_(other){return this!=other});
String.__proto__.$def(function _cr(){return this._value_(13)});
String.__proto__.$def(function _defaultSize(){return 10});
String.__proto__.$def(function _escape(){return this._value_(27)});
String.__proto__.$def(function _fromByteArray_(aByteArray){return $asNil$(aByteArray)._asString()});
String.__proto__.$def(function _lf(){return this._value_(10)});
String.__proto__.$def(function _linefeed(){return this._value_(10)});
String.__proto__.$def(function _new(){return ""});
String.__proto__.$def(function _new_(size){var str=String.fromCharCode(0);if("".repeat) return str.repeat(size);else return new Array(size+1).join(str)});
String.__proto__.$def(function _newFrom_(aCollection){var newCollection;newCollection=this._new_($asNil$(aCollection)._size());$asNil$(newCollection)._addAll_(aCollection);return newCollection});
String.__proto__.$def(function _space(){return this._value_(32)});
String.__proto__.$def(function _stringHash_initialHash_(aString,speciesHash){var stringSize,hash,low;stringSize=$asNil$(aString)._size();hash=$asNil$(speciesHash)._bitAnd_(268435455);(1)._to_do_(stringSize,function(pos){hash=$asNil$(hash)._43_($asNil$(aString)._basicAt_(pos));low=$asNil$(hash)._bitAnd_(16383);return hash=$asNil$($asNil$((9741*low))._43_($asNil$($asNil$((9741*$asNil$(hash)._47_47_(16384)))._43_(101*low))._bitAnd_(16383)*16384))._bitAnd_(268435455)});return hash});
String.__proto__.$def(function _tab(){return this._value_(9)});
String.__proto__.$def(function _value_(anInteger){return String.fromCharCode(anInteger)});
String.__proto__.$def(function _with_(anObject){var newCollection;newCollection=this._new_(1);$asNil$(newCollection)._at_put_(1,anObject);return newCollection});
String.__proto__.$def(function _with_with_(firstObject,secondObject){var newCollection;newCollection=this._new_(2);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);return newCollection});
String.__proto__.$def(function _with_with_with_(firstObject,secondObject,thirdObject){var newCollection;newCollection=this._new_(3);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);$asNil$(newCollection)._at_put_(3,thirdObject);return newCollection});
String.__proto__.$def(function _with_with_with_with_(firstObject,secondObject,thirdObject,fourthObject){var newCollection;newCollection=this._new_(4);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);$asNil$(newCollection)._at_put_(3,thirdObject);$asNil$(newCollection)._at_put_(4,fourthObject);return newCollection});
String.__proto__.$def(function _withAll_(aCollection){var $1;return ($1=$asNil$(this._new_($asNil$(aCollection)._size())),$1._addAll_(aCollection),$1._yourself())});
Object._subclass_("Point");
Point.prototype.$def(function _42_(arg){if(true==$asNil$(arg)._isPoint())return $asNil$($asNil$(this.x)._42_($asNil$(arg)._x()))._64_($asNil$(this.y)._42_($asNil$(arg)._y()));return $asNil$(arg)._adaptToPoint_andSend_(this,"*")});
Point.prototype.$def(function _43_(arg){if(true==$asNil$(arg)._isPoint())return $asNil$($asNil$(this.x)._43_($asNil$(arg)._x()))._64_($asNil$(this.y)._43_($asNil$(arg)._y()));return $asNil$(arg)._adaptToPoint_andSend_(this,"+")});
Point.prototype.$def(function _45_(arg){if(true==$asNil$(arg)._isPoint())return $asNil$($asNil$(this.x)._45_($asNil$(arg)._x()))._64_($asNil$(this.y)._45_($asNil$(arg)._y()));return $asNil$(arg)._adaptToPoint_andSend_(this,"-")});
Point.prototype.$def(function _47_(arg){if(true==$asNil$(arg)._isPoint())return $asNil$($asNil$(this.x)._47_($asNil$(arg)._x()))._64_($asNil$(this.y)._47_($asNil$(arg)._y()));return $asNil$(arg)._adaptToPoint_andSend_(this,"/")});
Point.prototype.$def(function _47_47_(arg){if(true==$asNil$(arg)._isPoint())return $asNil$($asNil$(this.x)._47_47_($asNil$(arg)._x()))._64_($asNil$(this.y)._47_47_($asNil$(arg)._y()));return $asNil$(arg)._adaptToPoint_andSend_(this,"//")});
Point.prototype.$def(function _60_(aPoint){if(this.x<$asNil$(aPoint)._x())return this.y<$asNil$(aPoint)._y();else return false});
Point.prototype.$def(function _60_61_(aPoint){if(this.x<=$asNil$(aPoint)._x())return this.y<=$asNil$(aPoint)._y();else return false});
Point.prototype.$def(function _61_(aPoint){if(true==$asNil$(this._species())._61_($asNil$(aPoint)._species()))if(true==$asNil$(this.x)._61_($asNil$(aPoint)._x()))return $asNil$(this.y)._61_($asNil$(aPoint)._y());else return false;else return false});
Point.prototype.$def(function _62_(aPoint){if(this.x>$asNil$(aPoint)._x())return this.y>$asNil$(aPoint)._y();else return false});
Point.prototype.$def(function _62_61_(aPoint){if(this.x>=$asNil$(aPoint)._x())return this.y>=$asNil$(aPoint)._y();else return false});
Point.prototype.$def(function _92_92_(arg){if(true==$asNil$(arg)._isPoint())return $asNil$($asNil$(this.x)._92_92_($asNil$(arg)._x()))._64_($asNil$(this.y)._92_92_($asNil$(arg)._y()));return $asNil$(arg)._adaptToPoint_andSend_(this,"\\\\")});
Point.prototype.$def(function _abs(){return $asNil$($asNil$(this.x)._abs())._64_($asNil$(this.y)._abs())});
Point.prototype.$def(function _adaptToCollection_andSend_(rcvr,selector){var $_self_$=this;return $asNil$(rcvr)._collect_(function(element){return $asNil$(element)._perform_with_(selector,$_self_$)})});
Point.prototype.$def(function _adaptToNumber_andSend_(rcvr,selector){return $asNil$($asNil$(rcvr)._64_(rcvr))._perform_with_(selector,this)});
Point.prototype.$def(function _adhereTo_(aRectangle){if(true==$asNil$(aRectangle)._containsPoint_(this))return this;return $asNil$($asNil$($asNil$(this.x)._max_($asNil$(aRectangle)._left()))._min_($asNil$(aRectangle)._right()))._64_($asNil$($asNil$(this.y)._max_($asNil$(aRectangle)._top()))._min_($asNil$(aRectangle)._bottom()))});
Point.prototype.$def(function _angle(){return $asNil$(this._y())._arcTan_(this._x())});
Point.prototype.$def(function _angleWith_(aPoint){var ar,ap;ar=this._angle();ap=$asNil$(aPoint)._angle();if(ap>=ar)return $asNil$(ap)._45_(ar);else return $asNil$($asNil$((Number._pi()*2))._45_(ar))._43_(ap)});
Point.prototype.$def(function _asFloatPoint(){if(true==this._isFloatPoint())return this;return $asNil$($asNil$(this.x)._asFloat())._64_($asNil$(this.y)._asFloat())});
Point.prototype.$def(function _asIntegerPoint(){if(true==this._isIntegerPoint())return this;return $asNil$($asNil$(this.x)._asInteger())._64_($asNil$(this.y)._asInteger())});
Point.prototype.$def(function _asMargin(){return Margin._fromPoint_(this)});
Point.prototype.$def(function _asNonFractionalPoint(){if(true==(true==$asNil$(this.x)._isFraction()||$asNil$(this.y)._isFraction()))return $asNil$($asNil$(this.x)._asFloat())._64_($asNil$(this.y)._asFloat())});
Point.prototype.$def(function _asPoint(){return this});
Point.prototype.$def(function _bearingToPoint_(anotherPoint){var deltaX,deltaY;deltaX=$asNil$($asNil$(anotherPoint)._x())._45_(this.x);deltaY=$asNil$($asNil$(anotherPoint)._y())._45_(this.y);if($asNil$(deltaX)._abs()<0.001)if(deltaY>0)return 180;else return 0;return $asNil$($asNil$((deltaX>=0?90:270))._45_($asNil$($asNil$($asNil$($asNil$(deltaY)._47_(deltaX))._arcTan())._negated())._radiansToDegrees()))._rounded()});
Point.prototype.$def(function _bitShiftPoint_(bits){this.x=$asNil$(this.x)._bitShift_(bits);this.y=$asNil$(this.y)._bitShift_(bits);return this});
Point.prototype.$def(function _ceiling(){if(true==this._isIntegerPoint())return this;return $asNil$($asNil$(this.x)._ceiling())._64_($asNil$(this.y)._ceiling())});
Point.prototype.$def(function _closeTo_(aPoint){if(true==$asNil$(this.x)._closeTo_($asNil$(aPoint)._x()))return $asNil$(this.y)._closeTo_($asNil$(aPoint)._y());else return false});
Point.prototype.$def(function _corner_(aPoint){return PjRectangle._origin_corner_(this,aPoint)});
Point.prototype.$def(function _crossProduct_(aPoint){return $asNil$($asNil$(this.x)._42_($asNil$(aPoint)._y()))._45_($asNil$(this.y)._42_($asNil$(aPoint)._x()))});
Point.prototype.$def(function _deepCopy(){return $asNil$($asNil$(this.x)._deepCopy())._64_($asNil$(this.y)._deepCopy())});
Point.prototype.$def(function _degrees(){var tan,theta;if(this.x==0)if(this.y>=0)return 90.0;else return 270.0;else {tan=$asNil$($asNil$(this.y)._asFloat())._47_($asNil$(this.x)._asFloat());theta=$asNil$(tan)._arcTan();if(this.x>=0)if(this.y>=0)return $asNil$(theta)._radiansToDegrees();else return 360.0+$asNil$(theta)._radiansToDegrees();else return 180.0+$asNil$(theta)._radiansToDegrees()}});
Point.prototype.$def(function _directionToLineFrom_to_(p1,p2){return $asNil$($asNil$($asNil$($asNil$(p2)._x())._45_($asNil$(p1)._x()))._42_($asNil$(this._y())._45_($asNil$(p1)._y())))._45_($asNil$($asNil$(this._x())._45_($asNil$(p1)._x()))._42_($asNil$($asNil$(p2)._y())._45_($asNil$(p1)._y())))});
Point.prototype.$def(function _dist_(aPoint){var dx,dy;dx=$asNil$($asNil$(aPoint)._x())._45_(this.x);dy=$asNil$($asNil$(aPoint)._y())._45_(this.y);return $asNil$($asNil$($asNil$(dx)._42_(dx))._43_($asNil$(dy)._42_(dy)))._sqrt()});
Point.prototype.$def(function _distanceTo_(aPoint){var dx,dy;dx=$asNil$($asNil$(aPoint)._x())._45_(this.x);dy=$asNil$($asNil$(aPoint)._y())._45_(this.y);return $asNil$($asNil$($asNil$(dx)._42_(dx))._43_($asNil$(dy)._42_(dy)))._sqrt()});
Point.prototype.$def(function _dotProduct_(aPoint){return $asNil$($asNil$(this.x)._42_($asNil$(aPoint)._x()))._43_($asNil$(this.y)._42_($asNil$(aPoint)._y()))});
Point.prototype.$def(function _eightNeighbors(){return [this._43_((1)._64_(0)),this._43_((1)._64_(1)),this._43_((0)._64_(1)),this._43_((-1)._64_(1)),this._43_((-1)._64_(0)),this._43_((-1)._64_(-1)),this._43_((0)._64_(-1)),this._43_((1)._64_(-1))]});
Point.prototype.$def(function _extent_(aPoint){return PjRectangle._origin_extent_(this,aPoint)});
Point.prototype.$def(function _flipBy_centerAt_(direction,c){if(direction==="vertical")return $asNil$(this.x)._64_($asNil$(($asNil$(c)._y()*2))._45_(this.y));if(direction==="horizontal")return $asNil$($asNil$(($asNil$(c)._x()*2))._45_(this.x))._64_(this.y);this._error_("unrecognizable direction");return this});
Point.prototype.$def(function _floor(){if(true==this._isIntegerPoint())return this;return $asNil$($asNil$(this.x)._floor())._64_($asNil$(this.y)._floor())});
Point.prototype.$def(function _fourDirections(){return Array._with_with_with_with_(this._leftRotated(),this._negated(),this._rightRotated(),this)});
Point.prototype.$def(function _fourNeighbors(){return Array._with_with_with_with_(this._43_((1)._64_(0)),this._43_((0)._64_(1)),this._43_((-1)._64_(0)),this._43_((0)._64_(-1)))});
Point.prototype.$def(function _fromSton_(stonReader){var $_self_$=this;$asNil$(stonReader)._parseListDo_(function(each,index){if(index==1)$_self_$.x=each;if(index==2)return $_self_$.y=each;else return undefined});return this});
Point.prototype.$def(function _fuelAccept_(aGeneralMapper){return $asNil$(aGeneralMapper)._visitPoint_(this)});
Point.prototype.$def(function _grid_(aPoint){var newX,newY;newX=$asNil$($asNil$(this.x)._43_($asNil$($asNil$(aPoint)._x())._47_47_(2)))._truncateTo_($asNil$(aPoint)._x());newY=$asNil$($asNil$(this.y)._43_($asNil$($asNil$(aPoint)._y())._47_47_(2)))._truncateTo_($asNil$(aPoint)._y());return $asNil$(newX)._64_(newY)});
Point.prototype.$def(function _guarded(){this._max_((1)._64_(1));return this});
Point.prototype.$def(function _hash(){return $asNil$($asNil$($asNil$($asNil$(this.x)._hash())._hashMultiply())._43_($asNil$(this.y)._hash()))._hashMultiply()});
Point.prototype.$def(function _insideTriangle_with_with_(p1,p2,p3){var p0,b0,b1,b2,b3;p0=this;b0=$asNil$($asNil$($asNil$($asNil$(p2)._x())._45_($asNil$(p1)._x()))._42_($asNil$($asNil$(p3)._y())._45_($asNil$(p1)._y())))._45_($asNil$($asNil$($asNil$(p3)._x())._45_($asNil$(p1)._x()))._42_($asNil$($asNil$(p2)._y())._45_($asNil$(p1)._y())));if(true==$asNil$(b0)._isZero())return false;b0=1.0._47_(b0);b1=$asNil$($asNil$($asNil$($asNil$($asNil$(p2)._x())._45_($asNil$(p0)._x()))._42_($asNil$($asNil$(p3)._y())._45_($asNil$(p0)._y())))._45_($asNil$($asNil$($asNil$(p3)._x())._45_($asNil$(p0)._x()))._42_($asNil$($asNil$(p2)._y())._45_($asNil$(p0)._y()))))._42_(b0);b2=$asNil$($asNil$($asNil$($asNil$($asNil$(p3)._x())._45_($asNil$(p0)._x()))._42_($asNil$($asNil$(p1)._y())._45_($asNil$(p0)._y())))._45_($asNil$($asNil$($asNil$(p1)._x())._45_($asNil$(p0)._x()))._42_($asNil$($asNil$(p3)._y())._45_($asNil$(p0)._y()))))._42_(b0);b3=$asNil$($asNil$($asNil$($asNil$($asNil$(p1)._x())._45_($asNil$(p0)._x()))._42_($asNil$($asNil$(p2)._y())._45_($asNil$(p0)._y())))._45_($asNil$($asNil$($asNil$(p2)._x())._45_($asNil$(p0)._x()))._42_($asNil$($asNil$(p1)._y())._45_($asNil$(p0)._y()))))._42_(b0);if(b1<0.0)return false;if(b2<0.0)return false;if(b3<0.0)return false;return true});
Point.prototype.$def(function _interpolateTo_at_(end,amountDone){return $asNil$(this._42_(1-amountDone))._43_($asNil$(end)._42_(amountDone))});
Point.prototype.$def(function _isFloatPoint(){if(true==$asNil$(this.x)._isFloat())return $asNil$(this.y)._isFloat();else return false});
Point.prototype.$def(function _isInsideCircle_with_with_(a,b,c){return $asNil$($asNil$($asNil$($asNil$($asNil$(a)._dotProduct_(a))._42_($asNil$(b)._triangleArea_with_(c,this)))._45_($asNil$($asNil$(b)._dotProduct_(b))._42_($asNil$(a)._triangleArea_with_(c,this))))._43_($asNil$($asNil$(c)._dotProduct_(c))._42_($asNil$(a)._triangleArea_with_(b,this))))._45_($asNil$(this._dotProduct_(this))._42_($asNil$(a)._triangleArea_with_(b,c)))>0.0});
Point.prototype.$def(function _isIntegerPoint(){if(true==$asNil$(this.x)._isInteger())return $asNil$(this.y)._isInteger();else return false});
Point.prototype.$def(function _isPoint(){return true});
Point.prototype.$def(function _isSelfEvaluating(){return this._class()===Point});
Point.prototype.$def(function _isZero(){if(true==$asNil$(this.x)._isZero())return $asNil$(this.y)._isZero();else return false});
Point.prototype.$def(function _leftRotated(){return $asNil$(this.y)._64_($asNil$(this.x)._negated())});
Point.prototype.$def(function _max(){return $asNil$(this._x())._max_(this._y())});
Point.prototype.$def(function _max_(aPoint){return $asNil$($asNil$(this.x)._max_($asNil$(aPoint)._x()))._64_($asNil$(this.y)._max_($asNil$(aPoint)._y()))});
Point.prototype.$def(function _min(){return $asNil$(this._x())._min_(this._y())});
Point.prototype.$def(function _min_(aPoint){return $asNil$($asNil$(this.x)._min_($asNil$(aPoint)._x()))._64_($asNil$(this.y)._min_($asNil$(aPoint)._y()))});
Point.prototype.$def(function _min_max_(aMin,aMax){return $asNil$(this._min_(aMin))._max_(aMax)});
Point.prototype.$def(function _nearestPointAlongLineFrom_to_(p1,p2){var x21,y21,t,x1,y1;if(true==$asNil$($asNil$(p1)._x())._61_($asNil$(p2)._x()))return $asNil$($asNil$(p1)._x())._64_(this.y);if(true==$asNil$($asNil$(p1)._y())._61_($asNil$(p2)._y()))return $asNil$(this.x)._64_($asNil$(p1)._y());x1=$asNil$($asNil$(p1)._x())._asFloat();y1=$asNil$($asNil$(p1)._y())._asFloat();x21=$asNil$($asNil$($asNil$(p2)._x())._asFloat())._45_(x1);y21=$asNil$($asNil$($asNil$(p2)._y())._asFloat())._45_(y1);t=$asNil$($asNil$($asNil$($asNil$($asNil$(this.y)._asFloat())._45_(y1))._47_(x21))._43_($asNil$($asNil$($asNil$(this.x)._asFloat())._45_(x1))._47_(y21)))._47_($asNil$($asNil$(x21)._47_(y21))._43_($asNil$(y21)._47_(x21)));return $asNil$($asNil$(x1)._43_($asNil$(t)._42_(x21)))._64_($asNil$(y1)._43_($asNil$(t)._42_(y21)))});
Point.prototype.$def(function _nearestPointOnLineFrom_to_(p1,p2){return $asNil$(this._nearestPointAlongLineFrom_to_(p1,p2))._adhereTo_($asNil$(p1)._rectangle_(p2))});
Point.prototype.$def(function _negated(){return $asNil$((0-this.x))._64_(0-this.y)});
Point.prototype.$def(function _normal(){var n,d;n=$asNil$($asNil$(this.y)._negated())._64_(this.x);if((d=$asNil$($asNil$($asNil$(n)._x())._42_($asNil$(n)._x()))._43_($asNil$($asNil$(n)._y())._42_($asNil$(n)._y())))==0)return (-1)._64_(0);return $asNil$(n)._47_($asNil$(d)._sqrt())});
Point.prototype.$def(function _normalized(){var r;r=$asNil$($asNil$($asNil$(this.x)._42_(this.x))._43_($asNil$(this.y)._42_(this.y)))._sqrt();return $asNil$($asNil$(this.x)._47_(r))._64_($asNil$(this.y)._47_(r))});
Point.prototype.$def(function _octantOf_(otherPoint){var quad,moreHoriz;if(true==(true==$asNil$(this.x)._61_($asNil$(otherPoint)._x())&&this.y>$asNil$(otherPoint)._y()))return 6;if(true==(true==$asNil$(this.y)._61_($asNil$(otherPoint)._y())&&this.x<$asNil$(otherPoint)._x()))return 8;quad=this._quadrantOf_(otherPoint);moreHoriz=$asNil$($asNil$(this.x)._45_($asNil$(otherPoint)._x()))._abs()>=$asNil$($asNil$(this.y)._45_($asNil$(otherPoint)._y()))._abs();if(true==$asNil$($asNil$(quad)._even())._eqv_(moreHoriz))return quad*2;else return quad*2-1});
Point.prototype.$def(function _onLineFrom_to_(p1,p2){return this._onLineFrom_to_within_(p1,p2,2)});
Point.prototype.$def(function _onLineFrom_to_within_(p1,p2,epsilon){if($asNil$(p1)._x()<$asNil$(p2)._x())if(true==(this.x<$asNil$($asNil$(p1)._x())._45_(epsilon)||this.x>$asNil$($asNil$(p2)._x())._43_(epsilon)))return false;else if(true==(this.x<$asNil$($asNil$(p2)._x())._45_(epsilon)||this.x>$asNil$($asNil$(p1)._x())._43_(epsilon)))return false;if($asNil$(p1)._y()<$asNil$(p2)._y())if(true==(this.y<$asNil$($asNil$(p1)._y())._45_(epsilon)||this.y>$asNil$($asNil$(p2)._y())._43_(epsilon)))return false;else if(true==(this.y<$asNil$($asNil$(p2)._y())._45_(epsilon)||this.y>$asNil$($asNil$(p1)._y())._43_(epsilon)))return false;return this._dist_(this._nearestPointAlongLineFrom_to_(p1,p2))<=epsilon});
Point.prototype.$def(function _printOn_(aStream){$asNil$(aStream)._nextPut_("(");$asNil$(this.x)._printOn_(aStream);$asNil$(aStream)._nextPut_("@");if(true==(true==$asNil$(this.y)._notNil()&&$asNil$(this.y)._negative()))$asNil$(aStream)._space();$asNil$(this.y)._printOn_(aStream);$asNil$(aStream)._nextPut_(")");return this});
Point.prototype.$def(function _quadrantOf_(otherPoint){if(this.x<=$asNil$(otherPoint)._x())if(this.y<$asNil$(otherPoint)._y())return 1;else return 4;else if(this.y<=$asNil$(otherPoint)._y())return 2;else return 3});
Point.prototype.$def(function _r(){return $asNil$(this._dotProduct_(this))._sqrt()});
Point.prototype.$def(function _reciprocal(){return $asNil$($asNil$(this.x)._reciprocal())._64_($asNil$(this.y)._reciprocal())});
Point.prototype.$def(function _rectangle_(aPoint){return PjRectangle._point_point_(this,aPoint)});
Point.prototype.$def(function _reflectedAbout_(aPoint){return $asNil$($asNil$(this._45_(aPoint))._negated())._43_(aPoint)});
Point.prototype.$def(function _rightRotated(){return $asNil$($asNil$(this.y)._negated())._64_(this.x)});
Point.prototype.$def(function _rotateBy_about_(angle,center){var p,r,theta;p=this._45_(center);r=$asNil$(p)._r();theta=$asNil$($asNil$(angle)._asFloat())._45_($asNil$(p)._theta());return $asNil$($asNil$($asNil$($asNil$(center)._x())._asFloat())._43_($asNil$(r)._42_($asNil$(theta)._cos())))._64_($asNil$($asNil$($asNil$(center)._y())._asFloat())._45_($asNil$(r)._42_($asNil$(theta)._sin())))});
Point.prototype.$def(function _rotateBy_centerAt_(direction,c){var offset;offset=this._45_(c);if(direction==="right")return $asNil$($asNil$($asNil$($asNil$(offset)._y())._negated())._64_($asNil$(offset)._x()))._43_(c);if(direction==="left")return $asNil$($asNil$($asNil$(offset)._y())._64_($asNil$($asNil$(offset)._x())._negated()))._43_(c);if(direction==="pi")return $asNil$(c)._45_(offset);this._error_("unrecognizable direction");return this});
Point.prototype.$def(function _roundDownTo_(grid){var gridPoint;gridPoint=$asNil$(grid)._asPoint();return $asNil$($asNil$(this.x)._roundDownTo_($asNil$(gridPoint)._x()))._64_($asNil$(this.y)._roundDownTo_($asNil$(gridPoint)._y()))});
Point.prototype.$def(function _roundTo_(grid){var gridPoint;gridPoint=$asNil$(grid)._asPoint();return $asNil$($asNil$(this.x)._roundTo_($asNil$(gridPoint)._x()))._64_($asNil$(this.y)._roundTo_($asNil$(gridPoint)._y()))});
Point.prototype.$def(function _roundUpTo_(grid){var gridPoint;gridPoint=$asNil$(grid)._asPoint();return $asNil$($asNil$(this.x)._roundUpTo_($asNil$(gridPoint)._x()))._64_($asNil$(this.y)._roundUpTo_($asNil$(gridPoint)._y()))});
Point.prototype.$def(function _rounded(){if(true==this._isIntegerPoint())return this;return $asNil$($asNil$(this.x)._rounded())._64_($asNil$(this.y)._rounded())});
Point.prototype.$def(function _scaleBy_(factor){return $asNil$($asNil$($asNil$(factor)._x())._42_(this.x))._64_($asNil$($asNil$(factor)._y())._42_(this.y))});
Point.prototype.$def(function _scaleFrom_to_(rect1,rect2){return $asNil$($asNil$(rect2)._topLeft())._43_($asNil$($asNil$($asNil$($asNil$(this.x)._45_($asNil$(rect1)._left()))._42_($asNil$(rect2)._width()))._47_47_($asNil$(rect1)._width()))._64_($asNil$($asNil$($asNil$(this.y)._45_($asNil$(rect1)._top()))._42_($asNil$(rect2)._height()))._47_47_($asNil$(rect1)._height())))});
Point.prototype.$def(function _scaleTo_(anExtent){var factor,sX,sY;factor=3.0._reciprocal();sX=$asNil$($asNil$(anExtent)._x())._47_($asNil$(this._x())._asFloat());sY=$asNil$($asNil$(anExtent)._y())._47_($asNil$(this._y())._asFloat());if(true==$asNil$(sX)._61_(sY))return $asNil$(sX)._64_(sY);if(sX<sY)return $asNil$(sX)._64_($asNil$(sX)._max_($asNil$(sY)._42_(factor)));else return $asNil$($asNil$(sY)._max_($asNil$(sX)._42_(factor)))._64_(sY)});
Point.prototype.$def(function _setR_degrees_(rho,degrees){var radians;radians=$asNil$($asNil$(degrees)._asFloat())._degreesToRadians();this.x=$asNil$($asNil$(rho)._asFloat())._42_($asNil$(radians)._cos());this.y=$asNil$($asNil$(rho)._asFloat())._42_($asNil$(radians)._sin());return this});
Point.prototype.$def(function _setX_setY_(xValue,yValue){this.x=xValue;this.y=yValue;return this});
Point.prototype.$def(function _sideOf_(otherPoint){var side;side=$asNil$(this._crossProduct_(otherPoint))._sign();return ["right","center","left"]._at_(side+2)});
Point.prototype.$def(function _sign(){return $asNil$($asNil$(this.x)._sign())._64_($asNil$(this.y)._sign())});
Point.prototype.$def(function _sortsBefore_(otherPoint){if(true==$asNil$(this.y)._61_($asNil$(otherPoint)._y()))return this.x<=$asNil$(otherPoint)._x();else return this.y<=$asNil$(otherPoint)._y()});
Point.prototype.$def(function _squaredDistanceTo_(aPoint){var delta;delta=$asNil$(aPoint)._45_(this);return $asNil$(delta)._dotProduct_(delta)});
Point.prototype.$def(function _stonOn_(stonWriter){var $_self_$=this;$asNil$(stonWriter)._writeObject_streamShortList_(this,function(array){var $1;return ($1=$asNil$(array),$1._add_($_self_$.x),$1._add_($_self_$.y))});return this});
Point.prototype.$def(function _storeOn_(aStream){$asNil$(aStream)._nextPut_("(");this._printOn_(aStream);$asNil$(aStream)._nextPut_(")");return this});
Point.prototype.$def(function _theta(){var tan,theta;if(this.x==0)if(this.y>=0)return 1.570796326794897;else return 4.71238898038469;else {tan=$asNil$($asNil$(this.y)._asFloat())._47_($asNil$(this.x)._asFloat());theta=$asNil$(tan)._arcTan();if(this.x>=0)if(this.y>=0)return theta;else return 6.283185307179586+theta;else return 3.141592653589793+theta}});
Point.prototype.$def(function _to_intersects_to_(end1,start2,end2){var start1,sideStart,sideEnd;start1=this;if(true==(true==(true==(true==$asNil$(start1)._61_(start2)||$asNil$(end1)._61_(end2))||$asNil$(start1)._61_(end2))||$asNil$(start2)._61_(end1)))return true;sideStart=$asNil$(start1)._to_sideOf_(end1,start2);sideEnd=$asNil$(start1)._to_sideOf_(end1,end2);if(true==$asNil$(sideStart)._61_(sideEnd))return false;sideStart=$asNil$(start2)._to_sideOf_(end2,start1);sideEnd=$asNil$(start2)._to_sideOf_(end2,end1);if(true==$asNil$(sideStart)._61_(sideEnd))return false;return true});
Point.prototype.$def(function _to_sideOf_(end,otherPoint){return $asNil$($asNil$(end)._45_(this))._sideOf_($asNil$(otherPoint)._45_(this))});
Point.prototype.$def(function _translateBy_(delta){return $asNil$($asNil$($asNil$(delta)._x())._43_(this.x))._64_($asNil$($asNil$(delta)._y())._43_(this.y))});
Point.prototype.$def(function _transposed(){return $asNil$(this.y)._64_(this.x)});
Point.prototype.$def(function _triangleArea_with_(b,c){return $asNil$($asNil$($asNil$($asNil$(b)._x())._45_(this._x()))._42_($asNil$($asNil$(c)._y())._45_(this._y())))._45_($asNil$($asNil$($asNil$(b)._y())._45_(this._y()))._42_($asNil$($asNil$(c)._x())._45_(this._x())))});
Point.prototype.$def(function _truncateTo_(grid){var gridPoint;gridPoint=$asNil$(grid)._asPoint();return $asNil$($asNil$(this.x)._truncateTo_($asNil$(gridPoint)._x()))._64_($asNil$(this.y)._truncateTo_($asNil$(gridPoint)._y()))});
Point.prototype.$def(function _truncated(){if(true==this._isIntegerPoint())return this;return $asNil$($asNil$(this.x)._truncated())._64_($asNil$(this.y)._truncated())});
Point.prototype.$def(function _veryDeepCopyWith_(deepCopier){return this});
Point.prototype.$def(function _x(){return this.x});
Point.prototype.$def(function _y(){return this.y});
Point.__proto__.$def(function _r_degrees_(rho,degrees){return $asNil$(this._basicNew())._setR_degrees_(rho,degrees)});
Point.__proto__.$def(function _settingInputWidgetForNode_(aSettingNode){return $asNil$(aSettingNode)._inputWidgetForPoint()});
Point.__proto__.$def(function _x_y_(xInteger,yInteger){return $asNil$(this._basicNew())._setX_setY_(xInteger,yInteger)});
Object._subclass_("PjRectangle");
PjRectangle.prototype.$def(function _containsPoint_(aPoint){if(this.origin<=aPoint)return aPoint<this.corner;else return false});
PjRectangle.prototype.$def(function _setPoint_point_(pt1,pt2){this.origin=$asNil$($asNil$($asNil$(pt1)._x())._min_($asNil$(pt2)._x()))._64_($asNil$($asNil$(pt1)._y())._min_($asNil$(pt2)._y()));this.corner=$asNil$($asNil$($asNil$(pt1)._x())._max_($asNil$(pt2)._x()))._64_($asNil$($asNil$(pt1)._y())._max_($asNil$(pt2)._y()));return this});
PjRectangle.__proto__.$def(function _origin_corner_(originPoint,cornerPoint){return $asNil$(this._basicNew())._setPoint_point_(originPoint,cornerPoint)});
Object._subclass_("PjCollection");
PjCollection.prototype.$def(function _61_(aMagnitude){return this._subclassResponsibility()});
PjCollection.prototype.$def(function _addAll_(aCollection){var $_self_$=this;$asNil$(aCollection)._do_(function(each){return $_self_$._add_(each)});return aCollection});
PjCollection.prototype.$def(function _allSatisfy_(aBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))return undefined;else throw $_err_$=false});return true}catch(e){if(e===$_err_$)return e;throw e}});
PjCollection.prototype.$def(function _anySatisfy_(aBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))throw $_err_$=true;else return undefined});return false}catch(e){if(e===$_err_$)return e;throw e}});
PjCollection.prototype.$def(function _asDictionary(){return this._as_(PjDictionary)});
PjCollection.prototype.$def(function _asOrderedCollection(){return this._as_(Array)});
PjCollection.prototype.$def(function _asSet(){return PjSet._withAll_(this)});
PjCollection.prototype.$def(function _associationsDo_(aBlock){this._do_(aBlock);return this});
PjCollection.prototype.$def(function _atRandom(){var randomIndex = Math.floor((Math.random() * this._size()) + 1);
return this._at_(randomIndex);});
PjCollection.prototype.$def(function _detect_ifFound_(aBlock,foundBlock){this._detect_ifFound_ifNone_(aBlock,foundBlock,function(){return undefined});return this});
PjCollection.prototype.$def(function _detect_ifFound_ifNone_(aBlock,foundBlock,exceptionBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))throw $_err_$=$asNil$(foundBlock)._cull_(each);else return undefined});return $asNil$(exceptionBlock)._value()}catch(e){if(e===$_err_$)return e;throw e}});
PjCollection.prototype.$def(function _detect_ifNone_(aBlock,exceptionBlock){return this._detect_ifFound_ifNone_(aBlock,function(element){return element},exceptionBlock)});
PjCollection.prototype.$def(function _inject_into_(thisValue,binaryBlock){var nextValue;nextValue=thisValue;this._do_(function(each){return nextValue=$asNil$(binaryBlock)._value_value_(nextValue,each)});return nextValue});
PjCollection.prototype.$def(function _isCollection(){return true});
PjCollection.prototype.$def(function _isEmptyOrNil(){return this._isEmpty()});
PjCollection.prototype.$def(function _noneSatisfy_(aBlock){var $_err_$={};try{this._do_(function(item){if(true==$asNil$(aBlock)._value_(item))throw $_err_$=false;else return undefined});return true}catch(e){if(e===$_err_$)return e;throw e}});
PjCollection.prototype.$def(function _reject_(aBlock){return this._select_(function(element){return $asNil$(aBlock)._value_(element)===false})});
PjCollection.prototype.$def(function _remove_(oldObject){var $_self_$=this;return this._remove_ifAbsent_(oldObject,function(){return $_self_$._errorNotFound_(oldObject)})});
PjCollection.prototype.$def(function _removeAll_(aCollection){var $_self_$=this;if(aCollection===this)return this._removeAll();$asNil$(aCollection)._do_(function(each){return $_self_$._remove_(each)});return aCollection});
PjCollection.__proto__.$def(function _new_(ignored){return this._new()});
PjCollection.__proto__.$def(function _newFrom_(aCollection){var newCollection;newCollection=this._new_($asNil$(aCollection)._size());$asNil$(newCollection)._addAll_(aCollection);return newCollection});
PjCollection.__proto__.$def(function _withAll_(aCollection){var $1;return ($1=$asNil$(this._new_($asNil$(aCollection)._size())),$1._addAll_(aCollection),$1._yourself())});
Object._subclass_("Margin");
Margin.prototype.$def(function _asMargin(){return this});
Margin.prototype.$def(function _bottom(){return this.bottom});
Margin.prototype.$def(function _expandRectangle_(aRectangle){var l,r,t,b;l=$asNil$($asNil$(aRectangle)._left())._45_(this._left());r=$asNil$($asNil$(aRectangle)._right())._43_(this._right());t=$asNil$($asNil$(aRectangle)._top())._45_(this._top());b=$asNil$($asNil$(aRectangle)._bottom())._43_(this._bottom());return PjRectangle._origin_extent_($asNil$(l)._64_(t),$asNil$($asNil$(r)._45_(l))._64_($asNil$(b)._45_(t)))});
Margin.prototype.$def(function _extendRectangle_(aRectangle){return PjRectangle._origin_corner_($asNil$(aRectangle)._origin(),$asNil$($asNil$(aRectangle)._corner())._43_(this._rightBottom()))});
Margin.prototype.$def(function _fromNumber_(anInteger){this._setTop_left_bottom_right_(anInteger,anInteger,anInteger,anInteger);return this});
Margin.prototype.$def(function _fromPoint_(aPoint){this._setTop_left_bottom_right_($asNil$(aPoint)._y(),$asNil$(aPoint)._x(),$asNil$(aPoint)._y(),$asNil$(aPoint)._x());return this});
Margin.prototype.$def(function _fromRectangle_(aRectangle){this._setTop_left_bottom_right_($asNil$(aRectangle)._top(),$asNil$(aRectangle)._left(),$asNil$(aRectangle)._bottom(),$asNil$(aRectangle)._right());return this});
Margin.prototype.$def(function _height(){return $asNil$(this._bottom())._45_(this._top())});
Margin.prototype.$def(function _initialize(){Object.prototype._initialize.call(this);this._setTop_left_bottom_right_(0,0,0,0);return this});
Margin.prototype.$def(function _insetRectangle_(aRectangle){var l,r,t,b;l=$asNil$($asNil$(aRectangle)._left())._43_(this._left());r=$asNil$($asNil$(aRectangle)._right())._45_(this._right());t=$asNil$($asNil$(aRectangle)._top())._43_(this._top());b=$asNil$($asNil$(aRectangle)._bottom())._45_(this._bottom());return PjRectangle._origin_extent_($asNil$(l)._64_(t),$asNil$($asNil$(r)._45_(l))._64_($asNil$(b)._45_(t)))});
Margin.prototype.$def(function _isZero(){if(0==this.top)if(0==this.left)if(0==this.right)return 0==this.bottom;else return false;else return false;else return false});
Margin.prototype.$def(function _left(){return this.left});
Margin.prototype.$def(function _printOn_(aStream){var $1;{$1=$asNil$(aStream);$1._nextPutAll_("MorphMargin");$1._nextPutAll_(" top: ");$1._nextPutAll_($asNil$(this.top)._printString());$1._nextPutAll_(" left: ");$1._nextPutAll_($asNil$(this.left)._printString());$1._nextPutAll_(" bottom: ");$1._nextPutAll_($asNil$(this.bottom)._printString());$1._nextPutAll_(" right: ");$1._nextPutAll_($asNil$(this.right)._printString())}return this});
Margin.prototype.$def(function _right(){return this.right});
Margin.prototype.$def(function _rightBottom(){return $asNil$(this.right)._64_(this.bottom)});
Margin.prototype.$def(function _setTop_left_bottom_right_(topNumber,leftNumber,bottomNumber,rightNumber){this.top=topNumber;this.left=leftNumber;this.bottom=bottomNumber;this.right=rightNumber;return this});
Margin.prototype.$def(function _top(){return this.top});
Margin.prototype.$def(function _width(){return $asNil$(this._right())._45_(this._left())});
Margin.__proto__.$def(function _fromNumber_(aNumber){var $1;return ($1=$asNil$(this._new()),$1._fromNumber_(aNumber),$1._yourself())});
Margin.__proto__.$def(function _fromPoint_(aPoint){var $1;return ($1=$asNil$(this._new()),$1._fromPoint_(aPoint),$1._yourself())});
Margin.__proto__.$def(function _fromRectangle_(aRectangle){var $1;return ($1=$asNil$(this._new()),$1._fromRectangle_(aRectangle),$1._yourself())});
Margin.__proto__.$def(function _left_top_right_bottom_(leftNumber,topNumber,rightNumber,bottomNumber){return $asNil$(this._new())._setTop_left_bottom_right_(topNumber,leftNumber,bottomNumber,rightNumber)});
Margin.__proto__.$def(function _top_left_bottom_right_(topNumber,leftNumber,bottomNumber,rightNumber){return $asNil$(this._new())._setTop_left_bottom_right_(topNumber,leftNumber,bottomNumber,rightNumber)});
Object._subclass_("PjMagnitude");
PjMagnitude.prototype.$def(function _60_(aMagnitude){return this._subclassResponsibility()});
PjMagnitude.prototype.$def(function _60_61_(aMagnitude){return $asNil$((this>aMagnitude))._not()});
PjMagnitude.prototype.$def(function _61_(aMagnitude){return this._subclassResponsibility()});
PjMagnitude.prototype.$def(function _62_(aMagnitude){return aMagnitude<this});
PjMagnitude.prototype.$def(function _62_61_(aMagnitude){return aMagnitude<=this});
PjMagnitude.prototype.$def(function _between_and_(min,max){if(this>=min)return this<=max;else return false});
PjMagnitude.prototype.$def(function _compareWith_ifLesser_ifEqual_ifGreater_(anotherMagnitude,lesserBlock,equalBlock,greaterBlock){var $_self_$=this;return $asNil$((this<anotherMagnitude))._ifTrue_ifFalse_(lesserBlock,function(){return $asNil$(($_self_$==anotherMagnitude))._ifTrue_ifFalse_(equalBlock,greaterBlock)})});
PjMagnitude.prototype.$def(function _max_(aMagnitude){if(this>aMagnitude)return this;else return aMagnitude});
PjMagnitude.prototype.$def(function _min_(aMagnitude){if(this<aMagnitude)return this;else return aMagnitude});
PjMagnitude.prototype.$def(function _min_max_(aMin,aMax){return $asNil$(this._min_(aMin))._max_(aMax)});
Function._subclass_("PjClass");
PjClass.prototype.$def(function _adoptInstance_(anObject){anObject.__proto__=this.prototype;return this});
PjClass.prototype.$def(function _allSubclasses(){var scan,scanTop;scan=Array._withAll_(this._subclasses());scanTop=1;while($asNil$(scan)._size()>scanTop){$asNil$(scan)._addAll_($asNil$($asNil$(scan)._at_(scanTop))._subclasses());scanTop=scanTop+1}return scan});
PjClass.prototype.$def(function _allSubclassesDo_(aBlock){this._subclassesDo_(function(cl){$asNil$(aBlock)._value_(cl);return $asNil$(cl)._allSubclassesDo_(aBlock)});return this});
PjClass.prototype.$def(function _class(){return Smalltalk._metaclassOf_(this)});
PjClass.prototype.$def(function _isBehavior(){return true});
PjClass.prototype.$def(function _isBlock(){return false});
PjClass.prototype.$def(function _isClass(){return true});
PjClass.prototype.$def(function _name(){var s=this.name||this.prototype.toString();
if (s.substr(0,1)=="[") s=s.substr(8,s.length-9);
return s});
PjClass.prototype.$def(function _newFromJsonString_(jsonString){var newInstance;newInstance=JSON.parse(jsonString);this._adoptInstance_(newInstance);return newInstance});
PjClass.prototype.$def(function _prototype(){return this.prototype});
PjClass.prototype.$def(function _subclasses(){return this.subclasses});
PjClass.prototype.$def(function _subclassesDo_(aBlock){$asNil$(this._subclasses())._do_(aBlock);return this});
PjClass.prototype.$def(function _theMetaClass(){return this._class()});
PjClass.prototype.$def(function _theNonMetaClass(){return this});
Error._subclass_("AssertionFailure");
Array._subclass_("PjSet");
PjSet.prototype.$def(function _addFirst_(element){if(true==this._includes_(element))return element;return Array.prototype._addFirst_.call(this,element)});
PjSet.prototype.$def(function _addLast_(element){if(true==this._includes_(element))return element;return Array.prototype._addLast_.call(this,element)});
PjSet.prototype.$def(function _asSet(){return this});
Error._subclass_("ArithmeticError");
PjCollection._subclass_("PjDictionary");
PjDictionary.prototype.$def(function _asDictionary(){return this});
PjDictionary.prototype.$def(function _asJsObject(){var jsObject;jsObject=Object._new();this._keysAndValuesDo_(function(key,value){return $asNil$(jsObject)._at_put_(key,$asNil$(value)._asJsObject())});return jsObject});
PjDictionary.prototype.$def(function _at_ifAbsentPut_(key,aBlock){var $_self_$=this;return this._at_ifAbsent_(key,function(){return $_self_$._at_put_(key,$asNil$(aBlock)._value())})});
PjDictionary.prototype.$def(function _collect_(aBlock){var resultDict;resultDict=$asNil$(this._class())._new();this._keysAndValuesDo_(function(key,value){return $asNil$(resultDict)._at_put_(key,$asNil$(aBlock)._value_(value))});return resultDict});
PjMagnitude._subclass_("PjLookupKey");
PjLookupKey.prototype.$def(function _60_(aLookupKey){return this.key<$asNil$(aLookupKey)._key()});
PjLookupKey.prototype.$def(function _61_(aLookupKey){if(true==$asNil$(this._species())._61_($asNil$(aLookupKey)._species()))return $asNil$(this.key)._61_($asNil$(aLookupKey)._key());else return false});
PjLookupKey.prototype.$def(function _key(){return this.key});
PjLookupKey.prototype.$def(function _key_(anObject){this.key=anObject;return this});
PjLookupKey.__proto__.$def(function _key_(aKey){return $asNil$(this._basicNew())._key_(aKey)});
PjLookupKey._subclass_("PjAssociation");
PjAssociation.prototype.$def(function _61_(anAssociation){if(PjLookupKey.prototype==anAssociation)return $asNil$(this.value)._61_($asNil$(anAssociation)._value());else return false});
PjAssociation.prototype.$def(function _key_value_(aKey,anObject){this.key=aKey;this.value=anObject;return this});
PjAssociation.prototype.$def(function _value(){return this.value});
PjAssociation.prototype.$def(function _value_(anObject){this.value=anObject;return this});
PjAssociation.__proto__.$def(function _key_value_(newKey,newValue){return $asNil$(this._basicNew())._key_value_(newKey,newValue)});
ArithmeticError._subclass_("ZeroDivide");
ZeroDivide.prototype.$def(function _dividend(){return this.dividend});
ZeroDivide.prototype.$def(function _dividend_(argument){this.dividend=argument;return this});
ZeroDivide.prototype.$def(function _isResumable(){return true});
ZeroDivide.__proto__.$def(function _dividend_(argument){var $1;return ($1=$asNil$(this._new()),$1._dividend_(argument),$1._yourself())});
ZeroDivide.__proto__.$def(function _signalWithDividend_(aDividend){return $asNil$(this._dividend_(aDividend))._signal()});
Number._javascriptInitialize();
PjUndefinedObject._javascriptInitialize();
Error._javascriptInitialize();
function PjBrowserApplication(){};
function MjMatterJsDemoApp(){};
function PjFileBasedBrowserApp(){};
function PjApplication(){};
function PjDOMApplication(){};
function MjMatterJsController(){};
function PjDomController(){};
Object._subclass_("NodeList");
NodeList.prototype.$def(function _44_(other){var $1;return ($1=$asNil$($asNil$(this._class())._new()),$1._addAll_(this),$1._addAll_(other),$1._yourself())});
NodeList.prototype.$def(function _61_(anArray){if(this.length!=anArray.length)return false;for(var i=0,max=this.length;i<max;++i)if(this[i]!=anArray[i])return false;return true});
NodeList.prototype.$def(function _addAll_(aCollection){var $_self_$=this;$asNil$(aCollection)._do_(function(each){return $_self_$._add_(each)});return aCollection});
NodeList.prototype.$def(function _addAllLast_(aCollection){var $_self_$=this;$asNil$(aCollection)._do_(function(each){return $_self_$._addLast_(each)});return aCollection});
NodeList.prototype.$def(function _allButFirst(){return this._allButFirst_(1)});
NodeList.prototype.$def(function _allButFirst_(n){return this._copyFrom_to_(n+1,this._size())});
NodeList.prototype.$def(function _allButLast(){return this._allButLast_(1)});
NodeList.prototype.$def(function _allButLast_(n){return this._copyFrom_to_(1,$asNil$(this._size())._45_(n))});
NodeList.prototype.$def(function _allSatisfy_(aBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))return undefined;else throw $_err_$=false});return true}catch(e){if(e===$_err_$)return e;throw e}});
NodeList.prototype.$def(function _anySatisfy_(aBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))throw $_err_$=true;else return undefined});return false}catch(e){if(e===$_err_$)return e;throw e}});
NodeList.prototype.$def(function _appendTo_(aCollection){return $asNil$(aCollection)._addAllLast_(this)});
NodeList.prototype.$def(function _asDictionary(){return this._as_(PjDictionary)});
NodeList.prototype.$def(function _asJsObject(){var jsObject;if(true==(true==this._notEmpty()&&$asNil$($asNil$(this._first())._isKindOf_(PjAssociation))._not()))return this;jsObject=Object._new();this._do_(function(association){return $asNil$(jsObject)._at_put_($asNil$(association)._key(),$asNil$($asNil$(association)._value())._asJsObject())});return jsObject});
NodeList.prototype.$def(function _asOrderedCollection(){return this._as_(Array)});
NodeList.prototype.$def(function _asSet(){return PjSet._withAll_(this)});
NodeList.prototype.$def(function _asString(){return $asNil$(String._new_(this._size()))._replaceFrom_to_with_(1,this._size(),this)});
NodeList.prototype.$def(function _associationsDo_(aBlock){this._do_(aBlock);return this});
NodeList.prototype.$def(function _at_(i){return this[i-1]});
NodeList.prototype.$def(function _at_ifAbsent_(index,aBlock){if(true==(index>0&&index>this._size()))return $asNil$(aBlock)._value();return this._at_(index)});
NodeList.prototype.$def(function _atRandom(){var randomIndex = Math.floor((Math.random() * this._size()) + 1);
return this._at_(randomIndex);});
NodeList.prototype.$def(function _collect_(aBlock){var result=[];for(var i=0,max=this.length;i<max;++i)result.push(typeof aBlock=="string"?$asNil$(this[i])._perform_(aBlock):aBlock(this[i]));return result});
NodeList.prototype.$def(function _copyFrom_to_(start,stop){var newSize;newSize=$asNil$(stop)._45_(start)+1;return $asNil$($asNil$(this._species())._new_(newSize))._replaceFrom_to_with_startingAt_(1,newSize,this,start)});
NodeList.prototype.$def(function _copyReplaceFrom_to_with_(start,stop,replacementCollection){var newSequenceableCollection,newSize,endReplacement;newSize=$asNil$($asNil$(this._size())._45_($asNil$(stop)._45_(start)+1))._43_($asNil$(replacementCollection)._size());endReplacement=$asNil$((start-1))._43_($asNil$(replacementCollection)._size());newSequenceableCollection=$asNil$(this._species())._new_(newSize);if(start>1)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(1,start-1,this,1);if(start<=endReplacement)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(start,endReplacement,replacementCollection,1);if(endReplacement<newSize)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(endReplacement+1,newSize,this,stop+1);return newSequenceableCollection});
NodeList.prototype.$def(function _copyWith_(newElement){var newIC;newIC=$asNil$(this._species())._new_(this._size()+1);$asNil$(newIC)._replaceFrom_to_with_startingAt_(1,this._size(),this,1);$asNil$(newIC)._at_put_($asNil$(newIC)._size(),newElement);return newIC});
NodeList.prototype.$def(function _copyWithFirst_(newElement){var newIC;newIC=$asNil$(this._species())._ofSize_(this._size()+1);$asNil$(newIC)._replaceFrom_to_with_startingAt_(2,this._size()+1,this,1);$asNil$(newIC)._at_put_(1,newElement);return newIC});
NodeList.prototype.$def(function _copyWithoutIndex_(index){var copy;copy=$asNil$(this._species())._ofSize_(this._size()-1);$asNil$(copy)._replaceFrom_to_with_startingAt_(1,index-1,this,1);$asNil$(copy)._replaceFrom_to_with_startingAt_(index,$asNil$(copy)._size(),this,index+1);return copy});
NodeList.prototype.$def(function _detect_ifFound_(aBlock,foundBlock){this._detect_ifFound_ifNone_(aBlock,foundBlock,function(){return undefined});return this});
NodeList.prototype.$def(function _detect_ifFound_ifNone_(aBlock,foundBlock,exceptionBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))throw $_err_$=$asNil$(foundBlock)._cull_(each);else return undefined});return $asNil$(exceptionBlock)._value()}catch(e){if(e===$_err_$)return e;throw e}});
NodeList.prototype.$def(function _detect_ifNone_(aBlock,exceptionBlock){return this._detect_ifFound_ifNone_(aBlock,function(element){return element},exceptionBlock)});
NodeList.prototype.$def(function _do_(aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i]);return this});
NodeList.prototype.$def(function _do_separatedBy_(elementBlock,separatorBlock){for(var i=0,max=this.length;i<max;++i){if(i)separatorBlock();elementBlock(this[i])};return this});
NodeList.prototype.$def(function _doWithIndex_(elementAndIndexBlock){return this._withIndexDo_(elementAndIndexBlock)});
NodeList.prototype.$def(function _first(){return this[0]});
NodeList.prototype.$def(function _from_to_put_(startIndex,endIndex,anObject){var written,toWrite,thisWrite;if(startIndex>endIndex)return this;this._at_put_(startIndex,anObject);written=1;toWrite=$asNil$(endIndex)._45_(startIndex)+1;while(written<toWrite){thisWrite=$asNil$(written)._min_($asNil$(toWrite)._45_(written));this._replaceFrom_to_with_startingAt_($asNil$(startIndex)._43_(written),$asNil$($asNil$(startIndex)._43_(written))._43_(thisWrite)-1,this,startIndex);written=$asNil$(written)._43_(thisWrite)}return anObject});
NodeList.prototype.$def(function _grownBy_(length){var newCollection,size;size=this._size();newCollection=$asNil$(this._species())._ofSize_($asNil$(size)._43_(length));$asNil$(newCollection)._replaceFrom_to_with_startingAt_(1,size,this,1);return newCollection});
NodeList.prototype.$def(function _ifEmpty_(aBlock){if(true==this._isEmpty())return $asNil$(aBlock)._value();return this});
NodeList.prototype.$def(function _includes_(x){if (x._isJSPrimitiveType()) {
if (this.includes(x)) return true;
for(var i=this.length-1;i>=0;--i) if (x==this[i]) return true;
return false}
for(var i=this.length-1;i>=0;--i) if (x._61_(this[i])) return true;
return false});
NodeList.prototype.$def(function _indexOf_(x){for(var i = 0; i < this.length; i++){
if(x == this[i]){return i + 1}
}
return 0;});
NodeList.prototype.$def(function _inject_into_(thisValue,binaryBlock){var nextValue;nextValue=thisValue;this._do_(function(each){return nextValue=$asNil$(binaryBlock)._value_value_(nextValue,each)});return nextValue});
NodeList.prototype.$def(function _insert_before_(anObject,spot){this.splice(spot-1, 0, anObject);return anObject});
NodeList.prototype.$def(function _isArray(){return true});
NodeList.prototype.$def(function _isCollection(){return true});
NodeList.prototype.$def(function _isEmpty(){return this._size()==0});
NodeList.prototype.$def(function _isEmptyOrNil(){return this._isEmpty()});
NodeList.prototype.$def(function _join_(aCollection){var result,$_self_$=this;result=$asNil$(this._class())._new();$asNil$(aCollection)._do_separatedBy_(function(each){return $asNil$(each)._appendTo_(result)},function(){return $_self_$._appendTo_(result)});return result});
NodeList.prototype.$def(function _last(){return this[this.length-1]});
NodeList.prototype.$def(function _noneSatisfy_(aBlock){var $_err_$={};try{this._do_(function(item){if(true==$asNil$(aBlock)._value_(item))throw $_err_$=false;else return undefined});return true}catch(e){if(e===$_err_$)return e;throw e}});
NodeList.prototype.$def(function _notEmpty(){return this.length!=0});
NodeList.prototype.$def(function _reject_(aBlock){return this._select_(function(element){return $asNil$(aBlock)._value_(element)===false})});
NodeList.prototype.$def(function _remove_(oldObject){var $_self_$=this;return this._remove_ifAbsent_(oldObject,function(){return $_self_$._errorNotFound_(oldObject)})});
NodeList.prototype.$def(function _removeAll_(aCollection){var $_self_$=this;if(aCollection===this)return this._removeAll();$asNil$(aCollection)._do_(function(each){return $_self_$._remove_(each)});return aCollection});
NodeList.prototype.$def(function _replaceFrom_to_with_(start,stop,replacement){if(false==$asNil$($asNil$(replacement)._size())._61_($asNil$(stop)._45_(start)+1))this._error_("Size of replacement doesnt match");return this._replaceFrom_to_with_startingAt_(start,stop,replacement,1)});
NodeList.prototype.$def(function _reverseDo_(aBlock){var $_self_$=this;$asNil$(this._size())._to_by_do_(1,-1,function(index){return $asNil$(aBlock)._value_($_self_$._at_(index))});return this});
NodeList.prototype.$def(function _second(){return this[1]});
NodeList.prototype.$def(function _select_(aBlock){var result=[];for(var i=0,max=this.length;i<max;++i){if(true==(typeof aBlock=="string"?$asNil$(this[i])._perform_(aBlock):aBlock(this[i])))result.push(this[i])}return result});
NodeList.prototype.$def(function _size(){return this.length});
NodeList.prototype.$def(function _species(){return Array});
NodeList.prototype.$def(function _third(){return this[2]});
NodeList.prototype.$def(function _with_do_(otherCollection,aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i],otherCollection[i]);return this});
NodeList.prototype.$def(function _withIndexDo_(aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i],i+1);return this});
NodeList.__proto__.$def(function _newFrom_(aCollection){var newCollection;newCollection=this._new_($asNil$(aCollection)._size());$asNil$(newCollection)._addAll_(aCollection);return newCollection});
NodeList.__proto__.$def(function _with_(anObject){var newCollection;newCollection=this._new_(1);$asNil$(newCollection)._at_put_(1,anObject);return newCollection});
NodeList.__proto__.$def(function _with_with_(firstObject,secondObject){var newCollection;newCollection=this._new_(2);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);return newCollection});
NodeList.__proto__.$def(function _with_with_with_(firstObject,secondObject,thirdObject){var newCollection;newCollection=this._new_(3);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);$asNil$(newCollection)._at_put_(3,thirdObject);return newCollection});
NodeList.__proto__.$def(function _with_with_with_with_(firstObject,secondObject,thirdObject,fourthObject){var newCollection;newCollection=this._new_(4);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);$asNil$(newCollection)._at_put_(3,thirdObject);$asNil$(newCollection)._at_put_(4,fourthObject);return newCollection});
NodeList.__proto__.$def(function _withAll_(aCollection){var $1;return ($1=$asNil$(this._new_($asNil$(aCollection)._size())),$1._addAll_(aCollection),$1._yourself())});
Object._subclass_("PjApplication");
PjApplication.prototype.$def(function _start(){return this});
PjApplication.prototype.$def(function _stop(){return this});
PjApplication.__proto__.$def(function _classSubclassResponsibilitySet(){var set;set=this===PjApplication?PjSet._new():$asNil$(this._superclass())._classSubclassResponsibilitySet();$asNil$($asNil$(this._class())._methods())._do_(function(cm){var selector;selector=$asNil$(cm)._selector();if(true==$asNil$(cm)._sendsSelector_("subclassResponsibility"))return $asNil$(set)._add_(selector);else return $asNil$(set)._remove_ifAbsent_(selector,function(){return undefined})});return set});
PjApplication.__proto__.$def(function _currentInstance(){return this.currentInstance});
PjApplication.__proto__.$def(function _isAbstract(){if(true==$asNil$(this._subclassResponsibilitySet())._isNotEmpty())return true;else return $asNil$(this._classSubclassResponsibilitySet())._isNotEmpty()});
PjApplication.__proto__.$def(function _resetCurrentInstance(){this.currentInstance=undefined;return this});
PjApplication.__proto__.$def(function _setUpAppFolderPrompt(){return "PharoJS: Folder for app "+this._name()+" please?"});
PjApplication.__proto__.$def(function _start(){var $_self_$=this;this._whenJsReady_(function(){return $_self_$._startInstance()});return this});
PjApplication.__proto__.$def(function _startInstance(){if(this._currentInstance()==undefined)this.currentInstance=this._new();$asNil$(this._currentInstance())._start();return this});
PjApplication.__proto__.$def(function _stop(){if(this._currentInstance()==undefined)return this;$asNil$(this._currentInstance())._stop();return this});
PjApplication.__proto__.$def(function _subclassResponsibilitySet(){var set;set=this===PjApplication?PjSet._new():$asNil$(this._superclass())._subclassResponsibilitySet();$asNil$(this._methods())._do_(function(cm){var selector;selector=$asNil$(cm)._selector();if(true==$asNil$(cm)._sendsSelector_("subclassResponsibility"))return $asNil$(set)._add_(selector);else return $asNil$(set)._remove_ifAbsent_(selector,function(){return undefined})});return set});
PjApplication.__proto__.$def(function _whenJsReady_(aBlock){this._subclassResponsibility();return this});
Object._subclass_("HTMLCollection");
HTMLCollection.prototype.$def(function _44_(other){var $1;return ($1=$asNil$($asNil$(this._class())._new()),$1._addAll_(this),$1._addAll_(other),$1._yourself())});
HTMLCollection.prototype.$def(function _61_(anArray){if(this.length!=anArray.length)return false;for(var i=0,max=this.length;i<max;++i)if(this[i]!=anArray[i])return false;return true});
HTMLCollection.prototype.$def(function _addAll_(aCollection){var $_self_$=this;$asNil$(aCollection)._do_(function(each){return $_self_$._add_(each)});return aCollection});
HTMLCollection.prototype.$def(function _addAllLast_(aCollection){var $_self_$=this;$asNil$(aCollection)._do_(function(each){return $_self_$._addLast_(each)});return aCollection});
HTMLCollection.prototype.$def(function _allButFirst(){return this._allButFirst_(1)});
HTMLCollection.prototype.$def(function _allButFirst_(n){return this._copyFrom_to_(n+1,this._size())});
HTMLCollection.prototype.$def(function _allButLast(){return this._allButLast_(1)});
HTMLCollection.prototype.$def(function _allButLast_(n){return this._copyFrom_to_(1,$asNil$(this._size())._45_(n))});
HTMLCollection.prototype.$def(function _allSatisfy_(aBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))return undefined;else throw $_err_$=false});return true}catch(e){if(e===$_err_$)return e;throw e}});
HTMLCollection.prototype.$def(function _anySatisfy_(aBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))throw $_err_$=true;else return undefined});return false}catch(e){if(e===$_err_$)return e;throw e}});
HTMLCollection.prototype.$def(function _appendTo_(aCollection){return $asNil$(aCollection)._addAllLast_(this)});
HTMLCollection.prototype.$def(function _asDictionary(){return this._as_(PjDictionary)});
HTMLCollection.prototype.$def(function _asJsObject(){var jsObject;if(true==(true==this._notEmpty()&&$asNil$($asNil$(this._first())._isKindOf_(PjAssociation))._not()))return this;jsObject=Object._new();this._do_(function(association){return $asNil$(jsObject)._at_put_($asNil$(association)._key(),$asNil$($asNil$(association)._value())._asJsObject())});return jsObject});
HTMLCollection.prototype.$def(function _asOrderedCollection(){return this._as_(Array)});
HTMLCollection.prototype.$def(function _asSet(){return PjSet._withAll_(this)});
HTMLCollection.prototype.$def(function _asString(){return $asNil$(String._new_(this._size()))._replaceFrom_to_with_(1,this._size(),this)});
HTMLCollection.prototype.$def(function _associationsDo_(aBlock){this._do_(aBlock);return this});
HTMLCollection.prototype.$def(function _at_(i){return this[i-1]});
HTMLCollection.prototype.$def(function _at_ifAbsent_(index,aBlock){if(true==(index>0&&index>this._size()))return $asNil$(aBlock)._value();return this._at_(index)});
HTMLCollection.prototype.$def(function _atRandom(){var randomIndex = Math.floor((Math.random() * this._size()) + 1);
return this._at_(randomIndex);});
HTMLCollection.prototype.$def(function _collect_(aBlock){var result=[];for(var i=0,max=this.length;i<max;++i)result.push(typeof aBlock=="string"?$asNil$(this[i])._perform_(aBlock):aBlock(this[i]));return result});
HTMLCollection.prototype.$def(function _copyFrom_to_(start,stop){var newSize;newSize=$asNil$(stop)._45_(start)+1;return $asNil$($asNil$(this._species())._new_(newSize))._replaceFrom_to_with_startingAt_(1,newSize,this,start)});
HTMLCollection.prototype.$def(function _copyReplaceFrom_to_with_(start,stop,replacementCollection){var newSequenceableCollection,newSize,endReplacement;newSize=$asNil$($asNil$(this._size())._45_($asNil$(stop)._45_(start)+1))._43_($asNil$(replacementCollection)._size());endReplacement=$asNil$((start-1))._43_($asNil$(replacementCollection)._size());newSequenceableCollection=$asNil$(this._species())._new_(newSize);if(start>1)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(1,start-1,this,1);if(start<=endReplacement)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(start,endReplacement,replacementCollection,1);if(endReplacement<newSize)$asNil$(newSequenceableCollection)._replaceFrom_to_with_startingAt_(endReplacement+1,newSize,this,stop+1);return newSequenceableCollection});
HTMLCollection.prototype.$def(function _copyWith_(newElement){var newIC;newIC=$asNil$(this._species())._new_(this._size()+1);$asNil$(newIC)._replaceFrom_to_with_startingAt_(1,this._size(),this,1);$asNil$(newIC)._at_put_($asNil$(newIC)._size(),newElement);return newIC});
HTMLCollection.prototype.$def(function _copyWithFirst_(newElement){var newIC;newIC=$asNil$(this._species())._ofSize_(this._size()+1);$asNil$(newIC)._replaceFrom_to_with_startingAt_(2,this._size()+1,this,1);$asNil$(newIC)._at_put_(1,newElement);return newIC});
HTMLCollection.prototype.$def(function _copyWithoutIndex_(index){var copy;copy=$asNil$(this._species())._ofSize_(this._size()-1);$asNil$(copy)._replaceFrom_to_with_startingAt_(1,index-1,this,1);$asNil$(copy)._replaceFrom_to_with_startingAt_(index,$asNil$(copy)._size(),this,index+1);return copy});
HTMLCollection.prototype.$def(function _detect_ifFound_(aBlock,foundBlock){this._detect_ifFound_ifNone_(aBlock,foundBlock,function(){return undefined});return this});
HTMLCollection.prototype.$def(function _detect_ifFound_ifNone_(aBlock,foundBlock,exceptionBlock){var $_err_$={};try{this._do_(function(each){if(true==$asNil$(aBlock)._value_(each))throw $_err_$=$asNil$(foundBlock)._cull_(each);else return undefined});return $asNil$(exceptionBlock)._value()}catch(e){if(e===$_err_$)return e;throw e}});
HTMLCollection.prototype.$def(function _detect_ifNone_(aBlock,exceptionBlock){return this._detect_ifFound_ifNone_(aBlock,function(element){return element},exceptionBlock)});
HTMLCollection.prototype.$def(function _do_(aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i]);return this});
HTMLCollection.prototype.$def(function _do_separatedBy_(elementBlock,separatorBlock){for(var i=0,max=this.length;i<max;++i){if(i)separatorBlock();elementBlock(this[i])};return this});
HTMLCollection.prototype.$def(function _doWithIndex_(elementAndIndexBlock){return this._withIndexDo_(elementAndIndexBlock)});
HTMLCollection.prototype.$def(function _first(){return this[0]});
HTMLCollection.prototype.$def(function _from_to_put_(startIndex,endIndex,anObject){var written,toWrite,thisWrite;if(startIndex>endIndex)return this;this._at_put_(startIndex,anObject);written=1;toWrite=$asNil$(endIndex)._45_(startIndex)+1;while(written<toWrite){thisWrite=$asNil$(written)._min_($asNil$(toWrite)._45_(written));this._replaceFrom_to_with_startingAt_($asNil$(startIndex)._43_(written),$asNil$($asNil$(startIndex)._43_(written))._43_(thisWrite)-1,this,startIndex);written=$asNil$(written)._43_(thisWrite)}return anObject});
HTMLCollection.prototype.$def(function _grownBy_(length){var newCollection,size;size=this._size();newCollection=$asNil$(this._species())._ofSize_($asNil$(size)._43_(length));$asNil$(newCollection)._replaceFrom_to_with_startingAt_(1,size,this,1);return newCollection});
HTMLCollection.prototype.$def(function _ifEmpty_(aBlock){if(true==this._isEmpty())return $asNil$(aBlock)._value();return this});
HTMLCollection.prototype.$def(function _includes_(x){if (x._isJSPrimitiveType()) {
if (this.includes(x)) return true;
for(var i=this.length-1;i>=0;--i) if (x==this[i]) return true;
return false}
for(var i=this.length-1;i>=0;--i) if (x._61_(this[i])) return true;
return false});
HTMLCollection.prototype.$def(function _indexOf_(x){for(var i = 0; i < this.length; i++){
if(x == this[i]){return i + 1}
}
return 0;});
HTMLCollection.prototype.$def(function _inject_into_(thisValue,binaryBlock){var nextValue;nextValue=thisValue;this._do_(function(each){return nextValue=$asNil$(binaryBlock)._value_value_(nextValue,each)});return nextValue});
HTMLCollection.prototype.$def(function _insert_before_(anObject,spot){this.splice(spot-1, 0, anObject);return anObject});
HTMLCollection.prototype.$def(function _isArray(){return true});
HTMLCollection.prototype.$def(function _isCollection(){return true});
HTMLCollection.prototype.$def(function _isEmpty(){return this._size()==0});
HTMLCollection.prototype.$def(function _isEmptyOrNil(){return this._isEmpty()});
HTMLCollection.prototype.$def(function _join_(aCollection){var result,$_self_$=this;result=$asNil$(this._class())._new();$asNil$(aCollection)._do_separatedBy_(function(each){return $asNil$(each)._appendTo_(result)},function(){return $_self_$._appendTo_(result)});return result});
HTMLCollection.prototype.$def(function _last(){return this[this.length-1]});
HTMLCollection.prototype.$def(function _noneSatisfy_(aBlock){var $_err_$={};try{this._do_(function(item){if(true==$asNil$(aBlock)._value_(item))throw $_err_$=false;else return undefined});return true}catch(e){if(e===$_err_$)return e;throw e}});
HTMLCollection.prototype.$def(function _notEmpty(){return this.length!=0});
HTMLCollection.prototype.$def(function _reject_(aBlock){return this._select_(function(element){return $asNil$(aBlock)._value_(element)===false})});
HTMLCollection.prototype.$def(function _remove_(oldObject){var $_self_$=this;return this._remove_ifAbsent_(oldObject,function(){return $_self_$._errorNotFound_(oldObject)})});
HTMLCollection.prototype.$def(function _removeAll_(aCollection){var $_self_$=this;if(aCollection===this)return this._removeAll();$asNil$(aCollection)._do_(function(each){return $_self_$._remove_(each)});return aCollection});
HTMLCollection.prototype.$def(function _replaceFrom_to_with_(start,stop,replacement){if(false==$asNil$($asNil$(replacement)._size())._61_($asNil$(stop)._45_(start)+1))this._error_("Size of replacement doesnt match");return this._replaceFrom_to_with_startingAt_(start,stop,replacement,1)});
HTMLCollection.prototype.$def(function _reverseDo_(aBlock){var $_self_$=this;$asNil$(this._size())._to_by_do_(1,-1,function(index){return $asNil$(aBlock)._value_($_self_$._at_(index))});return this});
HTMLCollection.prototype.$def(function _second(){return this[1]});
HTMLCollection.prototype.$def(function _select_(aBlock){var result=[];for(var i=0,max=this.length;i<max;++i){if(true==(typeof aBlock=="string"?$asNil$(this[i])._perform_(aBlock):aBlock(this[i])))result.push(this[i])}return result});
HTMLCollection.prototype.$def(function _size(){return this.length});
HTMLCollection.prototype.$def(function _species(){return Array});
HTMLCollection.prototype.$def(function _third(){return this[2]});
HTMLCollection.prototype.$def(function _with_do_(otherCollection,aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i],otherCollection[i]);return this});
HTMLCollection.prototype.$def(function _withIndexDo_(aBlock){for(var i=0,max=this.length;i<max;++i)aBlock(this[i],i+1);return this});
HTMLCollection.__proto__.$def(function _newFrom_(aCollection){var newCollection;newCollection=this._new_($asNil$(aCollection)._size());$asNil$(newCollection)._addAll_(aCollection);return newCollection});
HTMLCollection.__proto__.$def(function _with_(anObject){var newCollection;newCollection=this._new_(1);$asNil$(newCollection)._at_put_(1,anObject);return newCollection});
HTMLCollection.__proto__.$def(function _with_with_(firstObject,secondObject){var newCollection;newCollection=this._new_(2);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);return newCollection});
HTMLCollection.__proto__.$def(function _with_with_with_(firstObject,secondObject,thirdObject){var newCollection;newCollection=this._new_(3);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);$asNil$(newCollection)._at_put_(3,thirdObject);return newCollection});
HTMLCollection.__proto__.$def(function _with_with_with_with_(firstObject,secondObject,thirdObject,fourthObject){var newCollection;newCollection=this._new_(4);$asNil$(newCollection)._at_put_(1,firstObject);$asNil$(newCollection)._at_put_(2,secondObject);$asNil$(newCollection)._at_put_(3,thirdObject);$asNil$(newCollection)._at_put_(4,fourthObject);return newCollection});
HTMLCollection.__proto__.$def(function _withAll_(aCollection){var $1;return ($1=$asNil$(this._new_($asNil$(aCollection)._size())),$1._addAll_(aCollection),$1._yourself())});
Object._subclass_("PjDomController");
PjDomController.prototype.$def(function _addElement_(tagString){return this._addElement_to_(tagString,this._body())});
PjDomController.prototype.$def(function _addElement_style_(tagString,cssStyleAssociations){return this._addElement_to_style_(tagString,this._body(),cssStyleAssociations)});
PjDomController.prototype.$def(function _addElement_to_(tagString,parentNode){var newElement;newElement=this._createElement_(tagString);$asNil$(parentNode)._appendChild_(newElement);return newElement});
PjDomController.prototype.$def(function _addElement_to_style_(tagString,parentNode,cssStyleAssociations){var newElement;newElement=this._createElement_style_(tagString,cssStyleAssociations);$asNil$(parentNode)._appendChild_(newElement);return newElement});
PjDomController.prototype.$def(function _attribute_at_(attributeName,elementId){return this._attribute_ofElement_(attributeName,this._elementAt_(elementId))});
PjDomController.prototype.$def(function _attribute_at_set_(attributeName,elementId,attributeValue){this._attribute_ofElement_set_(attributeName,this._elementAt_(elementId),attributeValue);return this});
PjDomController.prototype.$def(function _attribute_ofElement_(attributeName,domElement){return $asNil$(domElement)._getAttribute_(attributeName)});
PjDomController.prototype.$def(function _attribute_ofElement_set_(attributeName,domElement,attributeValue){$asNil$(domElement)._setAttribute_to_(attributeName,attributeValue);return this});
PjDomController.prototype.$def(function _body(){return $asNil$(this._document())._body()});
PjDomController.prototype.$def(function _createElement_(tagString){return $asNil$(this._document())._createElement_(tagString)});
PjDomController.prototype.$def(function _createElement_style_(tagString,cssStyleAssociations){var newElement;newElement=$asNil$(this._document())._createElement_(tagString);this._setElement_style_(newElement,cssStyleAssociations);return newElement});
PjDomController.prototype.$def(function _cssClassesAddAll_element_(newClasses,domElement){this._cssClassesReplaceAll_byAll_element_([],newClasses,domElement);return this});
PjDomController.prototype.$def(function _cssClassesElement_(domElement){return " "._split_(this._cssClassesStringElement_(domElement))});
PjDomController.prototype.$def(function _cssClassesElement_set_(domElement,cssClasses){var classString;classString="";$asNil$(cssClasses)._do_(function(each){return classString=$asNil$($asNil$(classString)._44_(" "))._44_(each)});this._cssClassesStringElement_set_(domElement,classString);return this});
PjDomController.prototype.$def(function _cssClassesRemoveAll_element_(oldCssClasses,domElement){this._cssClassesReplaceAll_byAll_element_(oldCssClasses,[],domElement);return this});
PjDomController.prototype.$def(function _cssClassesReplaceAll_byAll_element_(oldCssClasses,newClasses,domElement){var cssClasses;cssClasses=this._cssClassesElement_(domElement);$asNil$(oldCssClasses)._do_(function(each){return $asNil$(cssClasses)._remove_ifAbsent_(each,undefined)});$asNil$(cssClasses)._addAll_(newClasses);this._cssClassesElement_set_(domElement,cssClasses);return this});
PjDomController.prototype.$def(function _cssClassesString_(elementId){return this._cssClassesStringElement_(this._elementAt_(elementId))});
PjDomController.prototype.$def(function _cssClassesString_set_(elementId,attributeValue){return this._attribute_at_set_("class",elementId,attributeValue)});
PjDomController.prototype.$def(function _cssClassesStringElement_(domElement){if(($1=this._attribute_ofElement_("class",domElement))==undefined)return "";else return $1});
PjDomController.prototype.$def(function _cssClassesStringElement_set_(domElement,newClassesString){this._attribute_ofElement_set_("class",domElement,newClassesString);return this});
PjDomController.prototype.$def(function _document(){return document});
PjDomController.prototype.$def(function _elementAt_(elementId){return $asNil$(this._document())._getElementById_(elementId)});
PjDomController.prototype.$def(function _elementAt_in_(childId,container){return $asNil$(container)._querySelector_("#"+childId)});
PjDomController.prototype.$def(function _hide_(domElement){$asNil$($asNil$(domElement)._style())._display_("none");return this});
PjDomController.prototype.$def(function _hideElementAt_in_(domElementId,container){this._show_elementAt_in_(false,domElementId,container);return this});
PjDomController.prototype.$def(function _innerHtmlAt_(elementId){return $asNil$(this._elementAt_(elementId))._innerHTML()});
PjDomController.prototype.$def(function _innerHtmlAt_set_(elementId,aString){$asNil$(this._elementAt_(elementId))._innerHTML_(aString);return this});
PjDomController.prototype.$def(function _onChange_do_(elementId,aBlock){this._onChange_in_do_(elementId,this._body(),aBlock);return this});
PjDomController.prototype.$def(function _onChange_in_do_(elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);this._onChangeElement_do_(element,aBlock);return this});
PjDomController.prototype.$def(function _onChangeElement_do_(element,aBlock){$asNil$(element)._addEventListener_block_("change",function(){return $asNil$(aBlock)._cull_cull_($asNil$(element)._value(),element)});return this});
PjDomController.prototype.$def(function _onClick_do_(elementId,aBlock){this._onClick_in_do_(elementId,this._body(),aBlock);return this});
PjDomController.prototype.$def(function _onClick_in_do_(elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);this._onClickElement_do_(element,aBlock);return this});
PjDomController.prototype.$def(function _onClickElement_do_(element,aBlock){$asNil$(element)._addEventListener_block_("click",function(){return $asNil$(aBlock)._cull_(element)});return this});
PjDomController.prototype.$def(function _onEvent_for_in_do_(eventId,elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);$asNil$(element)._addEventListener_block_(eventId,aBlock);return this});
PjDomController.prototype.$def(function _onKeyUp_do_(elementId,aBlock){this._onKeyUp_in_do_(elementId,this._body(),aBlock);return this});
PjDomController.prototype.$def(function _onKeyUp_in_do_(elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);this._onKeyUpElement_do_(element,aBlock);return this});
PjDomController.prototype.$def(function _onKeyUpElement_do_(element,aBlock){$asNil$(element)._addEventListener_block_("keyup",function(){return $asNil$(aBlock)._cull_cull_($asNil$(element)._value(),element)});return this});
PjDomController.prototype.$def(function _setElement_style_(domElement,cssStyleAssociations){var style;style=$asNil$(domElement)._style();$asNil$($asNil$(cssStyleAssociations)._asDictionary())._keysAndValuesDo_(function(key,value){return $asNil$(style)._at_put_(key,value)});return this});
PjDomController.prototype.$def(function _show_(domElement){$asNil$($asNil$(domElement)._style())._display_("");return this});
PjDomController.prototype.$def(function _show_element_(aBoolean,domElement){if(true==aBoolean)return this._show_(domElement);this._hide_(domElement);return this});
PjDomController.prototype.$def(function _show_elementAt_in_(aBoolean,domElementId,container){var element;element=this._elementAt_in_(domElementId,container);this._show_element_(aBoolean,element);return this});
PjDomController.prototype.$def(function _showElementAt_in_(domElementId,container){this._show_elementAt_in_(true,domElementId,container);return this});
PjDomController.__proto__.$def(function _addElement_(tagString){return this._addElement_to_(tagString,this._body())});
PjDomController.__proto__.$def(function _addElement_style_(tagString,cssStyleAssociations){return this._addElement_to_style_(tagString,this._body(),cssStyleAssociations)});
PjDomController.__proto__.$def(function _addElement_to_(tagString,parentNode){var newElement;newElement=this._createElement_(tagString);$asNil$(parentNode)._appendChild_(newElement);return newElement});
PjDomController.__proto__.$def(function _addElement_to_style_(tagString,parentNode,cssStyleAssociations){var newElement;newElement=this._createElement_style_(tagString,cssStyleAssociations);$asNil$(parentNode)._appendChild_(newElement);return newElement});
PjDomController.__proto__.$def(function _attribute_at_(attributeName,elementId){return this._attribute_ofElement_(attributeName,this._elementAt_(elementId))});
PjDomController.__proto__.$def(function _attribute_at_set_(attributeName,elementId,attributeValue){this._attribute_ofElement_set_(attributeName,this._elementAt_(elementId),attributeValue);return this});
PjDomController.__proto__.$def(function _attribute_ofElement_(attributeName,domElement){return $asNil$(domElement)._getAttribute_(attributeName)});
PjDomController.__proto__.$def(function _attribute_ofElement_set_(attributeName,domElement,attributeValue){$asNil$(domElement)._setAttribute_to_(attributeName,attributeValue);return this});
PjDomController.__proto__.$def(function _body(){return $asNil$(this._document())._body()});
PjDomController.__proto__.$def(function _createElement_(tagString){return $asNil$(this._document())._createElement_(tagString)});
PjDomController.__proto__.$def(function _createElement_style_(tagString,cssStyleAssociations){var newElement;newElement=$asNil$(this._document())._createElement_(tagString);this._setElement_style_(newElement,cssStyleAssociations);return newElement});
PjDomController.__proto__.$def(function _cssClassesAddAll_element_(newClasses,domElement){this._cssClassesReplaceAll_byAll_element_([],newClasses,domElement);return this});
PjDomController.__proto__.$def(function _cssClassesElement_(domElement){return " "._split_(this._cssClassesStringElement_(domElement))});
PjDomController.__proto__.$def(function _cssClassesElement_set_(domElement,cssClasses){var classString;classString="";$asNil$(cssClasses)._do_(function(each){return classString=$asNil$($asNil$(classString)._44_(" "))._44_(each)});this._cssClassesStringElement_set_(domElement,classString);return this});
PjDomController.__proto__.$def(function _cssClassesRemoveAll_element_(oldCssClasses,domElement){this._cssClassesReplaceAll_byAll_element_(oldCssClasses,[],domElement);return this});
PjDomController.__proto__.$def(function _cssClassesReplaceAll_byAll_element_(oldCssClasses,newClasses,domElement){var cssClasses;cssClasses=this._cssClassesElement_(domElement);$asNil$(oldCssClasses)._do_(function(each){return $asNil$(cssClasses)._remove_ifAbsent_(each,undefined)});$asNil$(cssClasses)._addAll_(newClasses);this._cssClassesElement_set_(domElement,cssClasses);return this});
PjDomController.__proto__.$def(function _cssClassesString_(elementId){return this._cssClassesStringElement_(this._elementAt_(elementId))});
PjDomController.__proto__.$def(function _cssClassesString_set_(elementId,attributeValue){return this._attribute_at_set_("class",elementId,attributeValue)});
PjDomController.__proto__.$def(function _cssClassesStringElement_(domElement){if(($1=this._attribute_ofElement_("class",domElement))==undefined)return "";else return $1});
PjDomController.__proto__.$def(function _cssClassesStringElement_set_(domElement,newClassesString){this._attribute_ofElement_set_("class",domElement,newClassesString);return this});
PjDomController.__proto__.$def(function _document(){return document});
PjDomController.__proto__.$def(function _elementAt_(elementId){return $asNil$(this._document())._getElementById_(elementId)});
PjDomController.__proto__.$def(function _elementAt_in_(childId,container){return $asNil$(container)._querySelector_("#"+childId)});
PjDomController.__proto__.$def(function _hide_(domElement){$asNil$($asNil$(domElement)._style())._display_("none");return this});
PjDomController.__proto__.$def(function _hideElementAt_in_(domElementId,container){this._show_elementAt_in_(false,domElementId,container);return this});
PjDomController.__proto__.$def(function _innerHtmlAt_(elementId){return $asNil$(this._elementAt_(elementId))._innerHTML()});
PjDomController.__proto__.$def(function _innerHtmlAt_set_(elementId,aString){$asNil$(this._elementAt_(elementId))._innerHTML_(aString);return this});
PjDomController.__proto__.$def(function _onChange_do_(elementId,aBlock){this._onChange_in_do_(elementId,this._body(),aBlock);return this});
PjDomController.__proto__.$def(function _onChange_in_do_(elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);this._onChangeElement_do_(element,aBlock);return this});
PjDomController.__proto__.$def(function _onChangeElement_do_(element,aBlock){$asNil$(element)._addEventListener_block_("change",function(){return $asNil$(aBlock)._cull_cull_($asNil$(element)._value(),element)});return this});
PjDomController.__proto__.$def(function _onClick_do_(elementId,aBlock){this._onClick_in_do_(elementId,this._body(),aBlock);return this});
PjDomController.__proto__.$def(function _onClick_in_do_(elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);this._onClickElement_do_(element,aBlock);return this});
PjDomController.__proto__.$def(function _onClickElement_do_(element,aBlock){$asNil$(element)._addEventListener_block_("click",function(){return $asNil$(aBlock)._cull_(element)});return this});
PjDomController.__proto__.$def(function _onEvent_for_in_do_(eventId,elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);$asNil$(element)._addEventListener_block_(eventId,aBlock);return this});
PjDomController.__proto__.$def(function _onKeyUp_do_(elementId,aBlock){this._onKeyUp_in_do_(elementId,this._body(),aBlock);return this});
PjDomController.__proto__.$def(function _onKeyUp_in_do_(elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);this._onKeyUpElement_do_(element,aBlock);return this});
PjDomController.__proto__.$def(function _onKeyUpElement_do_(element,aBlock){$asNil$(element)._addEventListener_block_("keyup",function(){return $asNil$(aBlock)._cull_cull_($asNil$(element)._value(),element)});return this});
PjDomController.__proto__.$def(function _setElement_style_(domElement,cssStyleAssociations){var style;style=$asNil$(domElement)._style();$asNil$($asNil$(cssStyleAssociations)._asDictionary())._keysAndValuesDo_(function(key,value){return $asNil$(style)._at_put_(key,value)});return this});
PjDomController.__proto__.$def(function _show_(domElement){$asNil$($asNil$(domElement)._style())._display_("");return this});
PjDomController.__proto__.$def(function _show_element_(aBoolean,domElement){if(true==aBoolean)return this._show_(domElement);this._hide_(domElement);return this});
PjDomController.__proto__.$def(function _show_elementAt_in_(aBoolean,domElementId,container){var element;element=this._elementAt_in_(domElementId,container);this._show_element_(aBoolean,element);return this});
PjDomController.__proto__.$def(function _showElementAt_in_(domElementId,container){this._show_elementAt_in_(true,domElementId,container);return this});
PjApplication._subclass_("PjDOMApplication");
PjDOMApplication.prototype.$def(function _addElement_(tagString){return this._addElement_to_(tagString,this._body())});
PjDOMApplication.prototype.$def(function _addElement_style_(tagString,cssStyleAssociations){return this._addElement_to_style_(tagString,this._body(),cssStyleAssociations)});
PjDOMApplication.prototype.$def(function _addElement_to_(tagString,parentNode){var newElement;newElement=this._createElement_(tagString);$asNil$(parentNode)._appendChild_(newElement);return newElement});
PjDOMApplication.prototype.$def(function _addElement_to_style_(tagString,parentNode,cssStyleAssociations){var newElement;newElement=this._createElement_style_(tagString,cssStyleAssociations);$asNil$(parentNode)._appendChild_(newElement);return newElement});
PjDOMApplication.prototype.$def(function _attribute_at_(attributeName,elementId){return this._attribute_ofElement_(attributeName,this._elementAt_(elementId))});
PjDOMApplication.prototype.$def(function _attribute_at_set_(attributeName,elementId,attributeValue){this._attribute_ofElement_set_(attributeName,this._elementAt_(elementId),attributeValue);return this});
PjDOMApplication.prototype.$def(function _attribute_ofElement_(attributeName,domElement){return $asNil$(domElement)._getAttribute_(attributeName)});
PjDOMApplication.prototype.$def(function _attribute_ofElement_set_(attributeName,domElement,attributeValue){$asNil$(domElement)._setAttribute_to_(attributeName,attributeValue);return this});
PjDOMApplication.prototype.$def(function _body(){return $asNil$(this._document())._body()});
PjDOMApplication.prototype.$def(function _createElement_(tagString){return $asNil$(this._document())._createElement_(tagString)});
PjDOMApplication.prototype.$def(function _createElement_style_(tagString,cssStyleAssociations){var newElement;newElement=$asNil$(this._document())._createElement_(tagString);this._setElement_style_(newElement,cssStyleAssociations);return newElement});
PjDOMApplication.prototype.$def(function _cssClassesAddAll_element_(newClasses,domElement){this._cssClassesReplaceAll_byAll_element_([],newClasses,domElement);return this});
PjDOMApplication.prototype.$def(function _cssClassesElement_(domElement){return " "._split_(this._cssClassesStringElement_(domElement))});
PjDOMApplication.prototype.$def(function _cssClassesElement_set_(domElement,cssClasses){var classString;classString="";$asNil$(cssClasses)._do_(function(each){return classString=$asNil$($asNil$(classString)._44_(" "))._44_(each)});this._cssClassesStringElement_set_(domElement,classString);return this});
PjDOMApplication.prototype.$def(function _cssClassesRemoveAll_element_(oldCssClasses,domElement){this._cssClassesReplaceAll_byAll_element_(oldCssClasses,[],domElement);return this});
PjDOMApplication.prototype.$def(function _cssClassesReplaceAll_byAll_element_(oldCssClasses,newClasses,domElement){var cssClasses;cssClasses=this._cssClassesElement_(domElement);$asNil$(oldCssClasses)._do_(function(each){return $asNil$(cssClasses)._remove_ifAbsent_(each,undefined)});$asNil$(cssClasses)._addAll_(newClasses);this._cssClassesElement_set_(domElement,cssClasses);return this});
PjDOMApplication.prototype.$def(function _cssClassesString_(elementId){return this._cssClassesStringElement_(this._elementAt_(elementId))});
PjDOMApplication.prototype.$def(function _cssClassesString_set_(elementId,attributeValue){return this._attribute_at_set_("class",elementId,attributeValue)});
PjDOMApplication.prototype.$def(function _cssClassesStringElement_(domElement){if(($1=this._attribute_ofElement_("class",domElement))==undefined)return "";else return $1});
PjDOMApplication.prototype.$def(function _cssClassesStringElement_set_(domElement,newClassesString){this._attribute_ofElement_set_("class",domElement,newClassesString);return this});
PjDOMApplication.prototype.$def(function _document(){return document});
PjDOMApplication.prototype.$def(function _elementAt_(elementId){return $asNil$(this._document())._getElementById_(elementId)});
PjDOMApplication.prototype.$def(function _elementAt_in_(childId,container){return $asNil$(container)._querySelector_("#"+childId)});
PjDOMApplication.prototype.$def(function _hide_(domElement){$asNil$($asNil$(domElement)._style())._display_("none");return this});
PjDOMApplication.prototype.$def(function _hideElementAt_in_(domElementId,container){this._show_elementAt_in_(false,domElementId,container);return this});
PjDOMApplication.prototype.$def(function _innerHtmlAt_(elementId){return $asNil$(this._elementAt_(elementId))._innerHTML()});
PjDOMApplication.prototype.$def(function _innerHtmlAt_set_(elementId,aString){$asNil$(this._elementAt_(elementId))._innerHTML_(aString);return this});
PjDOMApplication.prototype.$def(function _onChange_do_(elementId,aBlock){this._onChange_in_do_(elementId,this._body(),aBlock);return this});
PjDOMApplication.prototype.$def(function _onChange_in_do_(elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);this._onChangeElement_do_(element,aBlock);return this});
PjDOMApplication.prototype.$def(function _onChangeElement_do_(element,aBlock){$asNil$(element)._addEventListener_block_("change",function(){return $asNil$(aBlock)._cull_cull_($asNil$(element)._value(),element)});return this});
PjDOMApplication.prototype.$def(function _onClick_do_(elementId,aBlock){this._onClick_in_do_(elementId,this._body(),aBlock);return this});
PjDOMApplication.prototype.$def(function _onClick_in_do_(elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);this._onClickElement_do_(element,aBlock);return this});
PjDOMApplication.prototype.$def(function _onClickElement_do_(element,aBlock){$asNil$(element)._addEventListener_block_("click",function(){return $asNil$(aBlock)._cull_(element)});return this});
PjDOMApplication.prototype.$def(function _onEvent_for_in_do_(eventId,elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);$asNil$(element)._addEventListener_block_(eventId,aBlock);return this});
PjDOMApplication.prototype.$def(function _onKeyUp_do_(elementId,aBlock){this._onKeyUp_in_do_(elementId,this._body(),aBlock);return this});
PjDOMApplication.prototype.$def(function _onKeyUp_in_do_(elementId,container,aBlock){var element;element=this._elementAt_in_(elementId,container);this._onKeyUpElement_do_(element,aBlock);return this});
PjDOMApplication.prototype.$def(function _onKeyUpElement_do_(element,aBlock){$asNil$(element)._addEventListener_block_("keyup",function(){return $asNil$(aBlock)._cull_cull_($asNil$(element)._value(),element)});return this});
PjDOMApplication.prototype.$def(function _setElement_style_(domElement,cssStyleAssociations){var style;style=$asNil$(domElement)._style();$asNil$($asNil$(cssStyleAssociations)._asDictionary())._keysAndValuesDo_(function(key,value){return $asNil$(style)._at_put_(key,value)});return this});
PjDOMApplication.prototype.$def(function _show_(domElement){$asNil$($asNil$(domElement)._style())._display_("");return this});
PjDOMApplication.prototype.$def(function _show_element_(aBoolean,domElement){if(true==aBoolean)return this._show_(domElement);this._hide_(domElement);return this});
PjDOMApplication.prototype.$def(function _show_elementAt_in_(aBoolean,domElementId,container){var element;element=this._elementAt_in_(domElementId,container);this._show_element_(aBoolean,element);return this});
PjDOMApplication.prototype.$def(function _showElementAt_in_(domElementId,container){this._show_elementAt_in_(true,domElementId,container);return this});
PjDOMApplication.prototype.$def(function _start(){PjApplication.prototype._start.call(this);this._subscribeToDeviceEvents();return this});
PjDOMApplication.prototype.$def(function _subscribeToDeviceEvents(){return this});
PjDomController._subclass_("MjMatterJsController");
MjMatterJsController.prototype.$def(function _addCircleleAtX_atY_radius_(x,y,radius){var circle;circle=this._newCircleleAtX_atY_radius_(x,y,radius);this._addToWorld_(circle);return circle});
MjMatterJsController.prototype.$def(function _addCircleleAtX_atY_radius_options_(x,y,radius,optionAssociations){var circle;circle=this._newCircleleAtX_atY_radius_options_(x,y,radius,$asNil$(optionAssociations)._asJsObject());this._addToWorld_(circle);return circle});
MjMatterJsController.prototype.$def(function _addRectangleAtX_atY_width_height_(x,y,width,height){var rectangle;rectangle=this._newRectangleAtX_atY_width_height_(x,y,width,height);this._addToWorld_(rectangle);return rectangle});
MjMatterJsController.prototype.$def(function _addRectangleAtX_atY_width_height_options_(x,y,width,height,optionAssociations){var rectangle;rectangle=this._newRectangleAtX_atY_width_height_options_(x,y,width,height,optionAssociations);this._addToWorld_(rectangle);return rectangle});
MjMatterJsController.prototype.$def(function _addToWorld_(aBody){$asNil$(this.World)._add_body_(this._world(),aBody);return this});
MjMatterJsController.prototype.$def(function _bodies(){return $asNil$(this._world())._bodies()});
MjMatterJsController.prototype.$def(function _canvas(){return $asNil$(this.render)._canvas()});
MjMatterJsController.prototype.$def(function _canvasHeight(){return $asNil$(this._canvas())._height()});
MjMatterJsController.prototype.$def(function _canvasWidth(){return $asNil$(this._canvas())._width()});
MjMatterJsController.prototype.$def(function _createMouseDraggingConstraint(){return $asNil$($asNil$(Matter)._MouseConstraint())._create_options_(this.engine,[("element"._45_62_(this._canvas())),("constraint"._45_62_(["render"._45_62_(["visible"._45_62_(false)]),"stiffness"._45_62_(1)]))]._asJsObject())});
MjMatterJsController.prototype.$def(function _deleteAllBodies(){this._deleteAllBodiesExceptStatic_(false);return this});
MjMatterJsController.prototype.$def(function _deleteAllBodiesExceptStatic(){this._deleteAllBodiesExceptStatic_(true);return this});
MjMatterJsController.prototype.$def(function _deleteAllBodiesExceptStatic_(aBoolean){$asNil$(this.World)._clear_keepStatic_(this._world(),aBoolean);this._enableMouseDraggingBodies();return this});
MjMatterJsController.prototype.$def(function _domElement_(canvasContainer){this.render=$asNil$(this.Render)._create_([("element"._45_62_(canvasContainer)),("engine"._45_62_(this.engine)),("options"._45_62_(["width"._45_62_($asNil$(canvasContainer)._offsetWidth()),"height"._45_62_($asNil$(canvasContainer)._offsetHeight()),"wireframes"._45_62_(false),"background"._45_62_("transparent")]))]._asJsObject());return this});
MjMatterJsController.prototype.$def(function _enableMouseDraggingBodies(){var mouseConstraint;mouseConstraint=this._createMouseDraggingConstraint();this._releaseMouseScrolling_(mouseConstraint);this._addToWorld_(mouseConstraint);return this});
MjMatterJsController.prototype.$def(function _initialize(){PjDomController.prototype._initialize.call(this);this.Engine=$asNil$(Matter)._Engine();this.Render=$asNil$(Matter)._Render();this.World=$asNil$(Matter)._World();this.Bodies=$asNil$(Matter)._Bodies();this.Runner=$asNil$(Matter)._Runner();this.engine=$asNil$(this.Engine)._create();this.world=$asNil$(this.engine)._world();this.runner=$asNil$(this.Runner)._create();this._isEngineRunning_(false);return this});
MjMatterJsController.prototype.$def(function _isEngineRunning(){return this.isEngineRunning});
MjMatterJsController.prototype.$def(function _isEngineRunning_(anObject){this.isEngineRunning=anObject;return this});
MjMatterJsController.prototype.$def(function _newCircleleAtX_atY_radius_(x,y,radius){return $asNil$(this.Bodies)._circle_y_radius_(x,y,radius)});
MjMatterJsController.prototype.$def(function _newCircleleAtX_atY_radius_options_(x,y,radius,optionAssociations){return $asNil$(this.Bodies)._circle_y_radius_options_(x,y,radius,$asNil$(optionAssociations)._asJsObject())});
MjMatterJsController.prototype.$def(function _newRectangleAtX_atY_width_height_(x,y,width,height){return $asNil$(this.Bodies)._rectangle_y_width_height_(x,y,width,height)});
MjMatterJsController.prototype.$def(function _newRectangleAtX_atY_width_height_options_(x,y,width,height,optionAssociations){return $asNil$(this.Bodies)._rectangle_y_width_height_options_(x,y,width,height,$asNil$(optionAssociations)._asJsObject())});
MjMatterJsController.prototype.$def(function _releaseMouseScrolling_(mouseConstraint){var mouseWheel,$1;mouseWheel=$asNil$($asNil$(mouseConstraint)._mouse())._instVarNamed_("mousewheel");{$1=$asNil$($asNil$($asNil$(mouseConstraint)._mouse())._element());$1._removeEventListener_on_("mousewheel",mouseWheel);$1._removeEventListener_on_("DOMMouseScroll",mouseWheel)}return this});
MjMatterJsController.prototype.$def(function _run(){$asNil$(this.Render)._run_(this.render);$asNil$(this.Runner)._run_with_(this.runner,this.engine);return this});
MjMatterJsController.prototype.$def(function _start(){this._startRendering();this._startEngine();return this});
MjMatterJsController.prototype.$def(function _startEngine(){this._isEngineRunning_(true);$asNil$(this.Runner)._run_with_(this.runner,this.engine);return this});
MjMatterJsController.prototype.$def(function _startRendering(){$asNil$(this.Render)._run_(this.render);return this});
MjMatterJsController.prototype.$def(function _stopEngine(){this._isEngineRunning_(false);$asNil$(this.Runner)._stop_(this.runner);return this});
MjMatterJsController.prototype.$def(function _stopRendering(){$asNil$(this.Render)._stop_(this.render);return this});
MjMatterJsController.prototype.$def(function _togglePauseResumeEngine(){if(true==this._isEngineRunning())return this._stopEngine();this._startEngine();return this});
MjMatterJsController.prototype.$def(function _world(){return this.world});
MjMatterJsController.__proto__.$def(function _onDomElement_(domElement){var $1;return ($1=$asNil$(this._new()),$1._domElement_(domElement),$1._yourself())});
MjMatterJsController.__proto__.$def(function _onDomElementAt_(id){return this._onDomElement_(this._elementAt_(id))});
PjDOMApplication._subclass_("PjBrowserApplication");
PjBrowserApplication.__proto__.$def(function _whenJsReady_(aBlock){window.addEventListener("load", aBlock)});
PjBrowserApplication._subclass_("PjFileBasedBrowserApp");
PjFileBasedBrowserApp._subclass_("MjMatterJsDemoApp");
MjMatterJsDemoApp.prototype.$def(function _addCircle(){var radius,x,y;radius=$asNil$((10)._to_($asNil$(this._minCanvasLength())._47_47_(8)))._atRandom();x=$asNil$($asNil$(radius)._to_($asNil$($asNil$(this.matterJsController)._canvasWidth())._45_(radius)))._atRandom();y=$asNil$((0)._to_(2*radius))._atRandom();$asNil$(this.matterJsController)._addCircleleAtX_atY_radius_options_(x,y,radius,["restitution"._45_62_(0.8)]);return this});
MjMatterJsDemoApp.prototype.$def(function _addRectangle(){var lengthRange,width,height,x,y;lengthRange=(20)._to_($asNil$(this._minCanvasLength())._47_47_(4));width=$asNil$(lengthRange)._atRandom();height=$asNil$(lengthRange)._atRandom();x=$asNil$((0)._to_($asNil$($asNil$(this.matterJsController)._canvasWidth())._45_(width)))._atRandom();y=$asNil$((0)._to_(height))._atRandom();$asNil$(this.matterJsController)._addRectangleAtX_atY_width_height_(x,y,width,height);return this});
MjMatterJsDemoApp.prototype.$def(function _canvas(){return $asNil$(this._matterJsController())._canvas()});
MjMatterJsDemoApp.prototype.$def(function _canvasHeight(){return $asNil$(this._matterJsController())._canvasHeight()});
MjMatterJsDemoApp.prototype.$def(function _canvasWidth(){return $asNil$(this._matterJsController())._canvasWidth()});
MjMatterJsDemoApp.prototype.$def(function _confirmThenResetSimulation(){var isConfirmed;isConfirmed=$asNil$(window)._confirm_("Do you really want to reset and delete all mobile bodies?");if(false==isConfirmed)return this;this._resetSimulation();return this});
MjMatterJsDemoApp.prototype.$def(function _initialize(){var $_self_$=this;PjFileBasedBrowserApp.prototype._initialize.call(this);this.matterJsController=MjMatterJsController._onDomElementAt_("matterJsDisplay");this._onClick_do_("resetButton",function(){return $_self_$._confirmThenResetSimulation()});this._onClick_do_("addRectangleButton",function(){return $_self_$._addRectangle()});this._onClick_do_("addCircleButton",function(){return $_self_$._addCircle()});this.pauseResumeButton=this._elementAt_("pauseResumeButton");this._onClickElement_do_(this.pauseResumeButton,function(){return $_self_$._togglePauseResumeEngine()});$asNil$($asNil$(this._canvas())._style())._border_("solid 1px black");return this});
MjMatterJsDemoApp.prototype.$def(function _matterJsController(){return this.matterJsController});
MjMatterJsDemoApp.prototype.$def(function _minCanvasLength(){return $asNil$(this._canvasWidth())._min_(this._canvasHeight())});
MjMatterJsDemoApp.prototype.$def(function _pauseButtonCssClasses(){return ["green"]});
MjMatterJsDemoApp.prototype.$def(function _resetSimulation(){$asNil$(this.matterJsController)._deleteAllBodiesExceptStatic();return this});
MjMatterJsDemoApp.prototype.$def(function _resumeButtonCssClasses(){return ["red"]});
MjMatterJsDemoApp.prototype.$def(function _start(){var xMiddle,yMax,squareLength,floorThickness,$1;PjFileBasedBrowserApp.prototype._start.call(this);xMiddle=$asNil$(this._canvasWidth())._47_(2);yMax=this._canvasHeight();floorThickness=20;squareLength=80;{$1=$asNil$(this._matterJsController());$1._addRectangleAtX_atY_width_height_($asNil$(xMiddle)._43_($asNil$(squareLength)._47_(2)),200,squareLength,squareLength);$1._addRectangleAtX_atY_width_height_(xMiddle,50,squareLength,squareLength);$1._addRectangleAtX_atY_width_height_options_(xMiddle,$asNil$(yMax)._45_($asNil$(floorThickness)._47_(2)),this._canvasWidth(),floorThickness,["isStatic"._45_62_(true)]);$1._enableMouseDraggingBodies();$1._start()}return this});
MjMatterJsDemoApp.prototype.$def(function _switchToPauseButton(){$asNil$(this.pauseResumeButton)._innerHTML_("Pause");this._cssClassesReplaceAll_byAll_element_(this._resumeButtonCssClasses(),this._pauseButtonCssClasses(),this.pauseResumeButton);return this});
MjMatterJsDemoApp.prototype.$def(function _switchToResumeButtom(){$asNil$(this.pauseResumeButton)._innerHTML_("Resume");this._cssClassesReplaceAll_byAll_element_(this._pauseButtonCssClasses(),this._resumeButtonCssClasses(),this.pauseResumeButton);return this});
MjMatterJsDemoApp.prototype.$def(function _togglePauseResumeEngine(){if(true==$asNil$(this.matterJsController)._isEngineRunning()){this._switchToResumeButtom();return $asNil$(this.matterJsController)._stopEngine()}this._switchToPauseButton();$asNil$(this.matterJsController)._startEngine();return this});
Smalltalk._registerDnuForAll_(["%","*","+",",","-","->","/","//","=","@","Bodies","Engine","MouseConstraint","Render","Runner","World","\\\\","abs","adaptToPoint:andSend:","add:","add:body:","addAll:","addAllLast:","addCircle","addCircleleAtX:atY:radius:options:","addElement:to:","addElement:to:style:","addEventListener:block:","addFirst:","addLast:","addRectangle","addRectangleAtX:atY:width:height:","addRectangleAtX:atY:width:height:options:","addToWorld:","adhereTo:","adoptInstance:","allButFirst:","allButLast:","allEnumeratableKeysDo:","allSubclassesDo:","angle","appendChild:","appendTo:","apply:with:","arcTan","arcTan:","arguments","as:","asCharacter","asDictionary","asFloat","asInteger","asJsObject","asPoint","asString","asUppercase","asciiValue","associationsDo:","at:","at:ifAbsent:","at:ifAbsentPut:","at:ifPresent:","at:put:","atRandom","attribute:at:set:","attribute:ofElement:","attribute:ofElement:set:","basicAt:","basicNew","basicNew:","basicNew:with:","basicNew:with:with:","basicNew:with:with:with:","basicNew:with:with:with:with:","beginsWith:","bitAnd:","bitShift:","bodies","body","border:","bottom","call:","call:with:","call:with:with:","call:with:with:with:","canUnderstand:","canvas","canvasHeight","canvasWidth","capitalized","ceiling","circle:y:radius:","circle:y:radius:options:","class","className","classSubclassResponsibilitySet","clear:keepStatic:","closeTo:","collect:","confirm:","confirmThenResetSimulation","containsPoint:","copyFrom:to:","corner","cos","create","create:","create:options:","createElement:","createElement:style:","createMouseDraggingConstraint","crossProduct:","cssClassesElement:","cssClassesElement:set:","cssClassesReplaceAll:byAll:element:","cssClassesStringElement:","cssClassesStringElement:set:","cull:","cull:cull:","currentInstance","deepCopy","degreesToRadians","deleteAllBodiesExceptStatic","deleteAllBodiesExceptStatic:","denominator","denormalized","detect:ifFound:ifNone:","display:","dist:","dividend:","do:","do:separatedBy:","document","domElement:","dotProduct:","element","elementAt:","elementAt:in:","emptyJavascriptObject","enableMouseDraggingBodies","ensure:","eqv:","error:","errorNotFound:","even","exp","findDelimiters:startingAt:","findIndex:","first","floor","floor:","fminDenormalized","fminNormalized","fractionPart","fromNumber:","fromPoint:","fromRectangle:","getAttribute:","getElementById:","handleDNU:for:","hash","hashMultiply","height","hide:","highBit","highBitOfPositiveReceiver","identityHash","ifTrue:ifFalse:","includes:","includesKey:","inheritsFrom:","initNilInJs","initObject","initThrowInJs","initialize","innerHTML","innerHTML:","inputWidgetForPoint","instVarNamed:","instVarNamed:put:","instVarNamed:putHidden:","installDnuArgs:selector:js:for:else:","integerPart","isCharacter","isEmpty","isEngineRunning","isEngineRunning:","isFloat","isFloatPoint","isFraction","isFunction:","isInteger","isIntegerPoint","isKindOf:","isLetter","isNil","isNotEmpty","isNotNil","isPoint","isVowel","isZero","js_apply:args:","js_charAt:","js_charCodeAt:","js_defineProperty:field:properties:","js_forEach:","js_fromCharCode:","js_hasOwnProperty:","js_join:","js_log:","js_parse:","js_pop","js_push:","js_shift","js_split:","js_substring:","js_substring:to:","js_toLowerCase","js_toString","js_toUpperCase","key","key:","key:value:","keysAndValuesDo:","keysDo:","left","leftRotated","ln","log:","makeDNU:","makeGetter:","makeJavascriptSelector:","makeSetter:","makeSubclass","matterJsController","max:","messageClass:","messageText:","metaclassClass:","metaclassOf:","methods","min:","minCanvasLength","mouse","name","nearestPointAlongLineFrom:to:","negated","negative","new","new:","newCircleleAtX:atY:radius:","newCircleleAtX:atY:radius:options:","newFrom:","newRectangleAtX:atY:width:height:","newRectangleAtX:atY:width:height:options:","nextIdentityHash","nextPut:","nextPutAll:","nilIfUndefined","nilInJs:","nilTestFunctionName","not","notEmpty","notNil","nthRoot:","numerator","ofSize:","offsetHeight","offsetWidth","onChange:in:do:","onChangeElement:do:","onClick:do:","onClick:in:do:","onClickElement:do:","onDomElement:","onDomElementAt:","onKeyUp:in:do:","onKeyUpElement:do:","onLineFrom:to:within:","one","origin","origin:corner:","origin:extent:","parseListDo:","pauseButtonCssClasses","perform:with:","pi","point:point:","postCopy","precision","printOn:","printString","propertySet:","prototype","quadrantOf:","querySelector:","quo:","r","radiansToDegrees","raisedToInteger:","reciprocal","rectangle:","rectangle:y:width:height:","rectangle:y:width:height:options:","registerDnu:","releaseMouseScrolling:","remove:","remove:ifAbsent:","removeAll","removeAt:","removeEventListener:on:","removeFirst","replaceFrom:to:with:","replaceFrom:to:with:startingAt:","resetSimulation","resumeButtonCssClasses","right","rightBottom","rightRotated","roundDownTo:","roundTo:","roundUpTo:","rounded","run:","run:with:","select:","selector","sendsSelector:","setAttribute:to:","setElement:style:","setPoint:point:","setR:degrees:","setTop:left:bottom:right:","setX:setY:","shallowCopy","show:","show:element:","show:elementAt:in:","sideOf:","sign","signal","signal:","sin","size","skipDelimiters:startingAt:","space","species","split:","sqrt","start","startEngine","startInstance","startRendering","stop","stop:","stopEngine","stringHash:initialHash:","stringify:","style","subclassResponsibility","subclassResponsibilitySet","subclasses","subclassesDo:","subscribeToDeviceEvents","superclass","switchToPauseButton","switchToResumeButtom","theta","throwFunction","throwFunctionName","timesTwoPower:","to:","to:by:do:","to:do:","to:sideOf:","togglePauseResumeEngine","top","topLeft","triangleArea:with:","truncateTo:","truncated","typeof","value","value:","value:value:","value:value:value:","value:value:value:value:","valuesDo:","visitPoint:","whenJsReady:","whileFalse:","whileTrue:","width","with:","with:with:with:with:","withAll:","withIndexDo:","world","writeObject:streamShortList:","x","x:y:","y","yourself"]);
PjApplication._initialize();
(function(appClass){return function(){return $asNil$(appClass)._start()}})(MjMatterJsDemoApp)();
